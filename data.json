[" \n \n \n \n \n \n \n  \n \n  \n   \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n \n \n \n  \n \n \n \n \n \nMANUAL DE INSTALADOR \nWorkflow  \nBantotal |Procesos de negocio Base | Global \n \n \n \n \nClasificaci\u00f3n del documento: \nP\u00fablico:            \u2610 \nPrivado:            \u2612 \nConfidencial:    \u2610 La informaci\u00f3n contenida en este documento es proporcionada con el \u00fanico fin de presentar en la instituci\u00f3n receptora, \nprohibiendo expresamente la publicaci\u00f3n, divulgaci\u00f3n y utilizaci\u00f3n de su  contenido a terceros.  \n  \n \n \n \n \n \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 2 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \nContenido \nContenido ................................ ................................ ................................ ................................ ...............................  2 \nIntroducci\u00f3n ................................ ................................ ................................ ................................ ...........................  7 \n1.1 Visi\u00f3n General: \u00bfQu\u00e9 es el Workflow? ......................................................................................................................................... 7 \n1.2 \u00bfPor qu\u00e9 Usar Workflow?.............................................................................................................................................................. 8 \n1.3 \u00bfAlcances? ..................................................................................................................................................................................... 9 \n2.0 Procesos de Negocio ................................ ................................ ................................ ................................ ..... 11 \n2.1 Concepto ..................................................................................................................................................................................... 11 \n2.2 Definici\u00f3n de Procesos de Negocio ........................................................................................................................................... 11 \n2.3 Pasos Para la Definici\u00f3n de los Procesos de Negocio ............................................................................................................. 11 \n2.4 Definir el Flujo de Datos ............................................................................................................................................................. 14 \n2.4.1 Mensajes ................................................................................................................................................................................... 15 \n2.4.1.1 Estructuras de Mensaje ....................................................................................................................................................... 16 \n2.4.1.2 Procesos ............................................................................................................................................................................... 17 \n2.4.2 Atributos ................................................................................................................................................................................... 18 \n2.4.2.1 Generaci\u00f3n de Datos Relevantes (Relevant Data) ............................................................................................................ 22 \n2.4.2.2 Propiedades Atributos ......................................................................................................................................................... 22 \n2.4.3 Formularios............................................................................................................................................................................... 24 \n2.4.3.1 Copiar Formularios .............................................................................................................................................................. 29 \n2.4.3.2 Asociar Expresiones en Botones de Formularios ............................................................................................................... 29 \n2.4.3.3 Como Ocultar Datos en Formularios .................................................................................................................................. 30 \n2.4.3.4 Funci\u00f3n en Formulario que Permite Traer info Desde Otros ATT (ej suma) ..................................................................... 30 \n2.4.4 Asistentes ................................................................................................................................................................................. 33 \n2.4.4.1 Propiedades ......................................................................................................................................................................... 37 \n2.4.4.2 Alta P\u00e1ginas de Tratamiento Especializado (PTE) ............................................................................................................. 37 \n2.4.5 Llamada Transaccional ............................................................................................................................................................ 39 \n2.4.6 Mapeos ..................................................................................................................................................................................... 41 \n2.4.6.1 Mapeo Grabado .................................................................................................................................................................... 42 \n2.4.6.2 Mapeo Lectura ..................................................................................................................................................................... 44 \n2.4.6.3 Especificaci\u00f3n Tablas A Mapear ......................................................................................................................................... 45 ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 3 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n2.4.6.3.1 GXPM ................................................................................................................................................................................. 48 \n2.4.6.4 Programas Mapeo Gen\u00e9rico................................................................................................................................................ 48 \n2.4.6.5 Poder Asociar al Bot\u00f3n Datos Ing. en el Inbox,  un Asistente Y no un Formulario .......................................................... 55 \n2.4.6.5.1 Utilizaci\u00f3n de Reglas de Negocio ..................................................................................................................................... 56 \n2.4.7 Conexiones ............................................................................................................................................................................... 56 \n2.4.7.1 Conexi\u00f3n Condicional .......................................................................................................................................................... 59 \n2.4.7.2 Previsualizaciones y consultas ............................................................................................................................................ 61 \n2.4.8 Eventos Deadline y Warning .................................................................................................................................................... 62 \n2.4.8.1 Env\u00edos de Mail de aviso ....................................................................................................................................................... 62 \n2.4.8.2 Archivo de configuraci\u00f3n del HTML .................................................................................................................................... 73 \n2.5 \u00bfC\u00f3mo Usar los Formularios para Maximizar su Productividad? ............................................................................................ 75 \n2.5.1 Atributo Especial: DES_CATEG ................................................................................................................................................ 75 \n2.5.2 Atributo especial: DES_BTN ..................................................................................................................................................... 76 \n2.5.3 Cargas Autom\u00e1ticas de Atributos ........................................................................................................................................... 79 \n2.5.4 Atributos Determinantes ......................................................................................................................................................... 81 \n2.5.5 Validaci\u00f3n Autom\u00e1tica ............................................................................................................................................................. 82 \n2.5.6 Grillas ........................................................................................................................................................................................ 83 \n2.5.6.1 C\u00f3digo de Grilla .................................................................................................................................................................... 83 \n2.5.6.2 Atributo Especial: DES_GRID ............................................................................................................................................... 84 \n2.5.6.2.1 Estados de las Celdas de una Grilla ................................................................................................................................ 88 \n2.5.6.2.2 Transiciones de Estados ................................................................................................................................................... 89 \n2.5.7 Eventos ..................................................................................................................................................................................... 91 \n2.5.8 Programar Eventos................................................................................................................................................................... 92 \n2.5.8.1 Carga autom\u00e1tica de un atributo ........................................................................................................................................ 94 \n2.5.8.2 Validaci\u00f3n de un Atributo y/o P\u00e1gina ................................................................................................................................. 96 \n2.5.8.3 Validaci\u00f3n de p\u00e1gina \u201conPageValidate\u201d ............................................................................................................................. 96 \n2.5.8.4 Validaci\u00f3n de p\u00e1gina \u201conPageValidateX\u201d ........................................................................................................................... 97 \n2.5.8.5 \u201conPageBack\u201d ...................................................................................................................................................................... 97 \n2.5.8.6 \u201conPageBackToX\u201d ................................................................................................................................................................ 98 \n2.5.8.7 Saltos de P\u00e1gina Condicionales .......................................................................................................................................... 98 \n2.6 Implementaci\u00f3n de P\u00e1ginas adicionales ................................................................................................................................ 100 \n2.7 Testeo y puesta en producci\u00f3n ................................................................................................................................................ 100 \n3.0 Mantenimiento  de Procesos ................................ ................................ ................................ ....................... 101 ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 4 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n3.1 Concepto ................................................................................................................................................................................... 101 \n3.2 Funcionamiento ........................................................................................................................................................................ 101 \n3.2.1 Roles del Proceso .................................................................................................................................................................. 102 \n3.2.2 Atributos ................................................................................................................................................................................ 104 \n3.2.3 Tareas .................................................................................................................................................................................... 105 \n3.2.3.1 Roles ................................................................................................................................................................................... 105 \n3.2.3.2 Metadata ............................................................................................................................................................................ 106 \n3.2.3.3 Parametrizaci\u00f3n Mail ......................................................................................................................................................... 107 \n3.2.4 Estad\u00edsticas ............................................................................................................................................................................ 107 \n3.2.5 Roles ...................................................................................................................................................................................... 107 \n3.2.6 Usuarios ................................................................................................................................................................................. 108 \n3.2.6.1 Detalle Usu WF ................................................................................................................................................................... 108 \n3.2.6.2 Impact. BT->WF .................................................................................................................................................................. 109 \n3.2.6.3 En Oficina s/n ..................................................................................................................................................................... 109 \n3.2.6.4 Restricciones ...................................................................................................................................................................... 109 \n3.2.7 Restricciones ......................................................................................................................................................................... 110 \n3.2.7.1 Asociar restricci\u00f3n a un flujo ............................................................................................................................................. 112 \n4.0 Funcionamiento del Inbox en Bantotal versi\u00f3n web ................................ ................................ .................... 113 \n4.1 Concepto ................................................................................................................................................................................... 113 \n4.2 Funcionamiento ........................................................................................................................................................................ 113 \n4.2.1 Consultar ................................................................................................................................................................................ 115 \n4.2.2 Delegar................................................................................................................................................................................... 116 \n4.2.3 Incrementar Prioridad ........................................................................................................................................................... 116 \n4.2.4 Disminuir Prioridad ............................................................................................................................................................... 116 \n4.2.5 Tomar ..................................................................................................................................................................................... 116 \n4.2.6 Liberar .................................................................................................................................................................................... 117 \n4.2.7 Siguiente ................................................................................................................................................................................ 117 \n4.2.8 Ejecutar .................................................................................................................................................................................. 117 \n4.2.9 Datos Ingresados .................................................................................................................................................................. 117 \n4.2.10 Diagrama ............................................................................................................................................................................. 117 \n4.2.11 Documentos ........................................................................................................................................................................ 119 \n4.2.11.1 Agregar ............................................................................................................................................................................. 120 \n4.2.11.2 Eliminar ............................................................................................................................................................................ 120 ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 5 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n4.2.11.3 Bloquear ........................................................................................................................................................................... 120 \n4.2.11.4 Liberar .............................................................................................................................................................................. 120 \n4.2.11.5 Actualizar ......................................................................................................................................................................... 120 \n4.2.11.6 Versiones .......................................................................................................................................................................... 120 \n4.2.11.7 Ejecutar ............................................................................................................................................................................ 121 \n4.2.12 Impresos .............................................................................................................................................................................. 121 \n4.3 Parametrizaci\u00f3n de Filtros y/o Columnas .............................................................................................................................. 121 \n4.3.1 Filtros Parametrizables ......................................................................................................................................................... 122 \n4.3.1.1 Programas que resuelven las Descripciones correspondientes a los valores de los Filtros a aplicar. ......................... 122 \n4.3.1.2 Parametrizaci\u00f3n XWF005 ................................................................................................................................................. 123 \n4.3.2 Columnas Parametrizables .................................................................................................................................................. 124 \n4.3.2.1 Programas que resuelven los valores de las Columnas parametrizables...................................................................... 124 \n4.3.2.2 Parametrizaci\u00f3n XWF005 ................................................................................................................................................. 125 \n4.3.3 Formato del Valor Resuelto: ................................................................................................................................................. 126 \n4.3.4 Prompts Parametrizables ..................................................................................................................................................... 126 \n5.0 Consultas de Instancias ................................ ................................ ................................ ............................... 127 \n6.0 Reportes y Mails con formato desde Plantilla HTML ................................ ................................ ................... 130 \n6.1 Definici\u00f3n de plantillas HTML para reportes de workflow ..................................................................................................... 130 \n6.1.1 D\u00f3nde establecer la plantilla ................................................................................................................................................ 131 \n6.1.2 Parametrizaci\u00f3n de la planilla a utilizar .............................................................................................................................. 131 \n6.1.3 Sustituci\u00f3n de tag ................................................................................................................................................................. 131 \n6.1.3.1 Relevant data de GXFlow .................................................................................................................................................. 131 \n6.1.3.2 Referencia a grids y sus columnas ................................................................................................................................... 131 \n6.1.3.3 Llamados a programas especiales ................................................................................................................................... 133 \n6.2 Donde asociar los reportes ...................................................................................................................................................... 133 \n7.0 Ajuste de Deadlines y Warnings ................................ ................................ ................................ .................. 134 \n7.1 Parametrizaci\u00f3n de calendarios y horarios ............................................................................................................................ 135 \n7.1.1 Parametrizaci\u00f3n del horario en la gu\u00eda de procesos 1280 ................................................................................................ 136 \n8.0 Ap\u00e9ndice A - M\u00e1scaras ................................ ................................ ................................ ................................ 137 \n9.0 Ap\u00e9ndice B - Rangos ................................ ................................ ................................ ................................ ....139 \n10.0 Parametrizaci\u00f3n para grabar Fecha Valor = Fecha Valor Contable ................................ .......................... 141 \n10.1 Tabla de Mapeo ...................................................................................................................................................................... 141 \n10.2 Metadata ................................................................................................................................................................................ 143 \n10.3 Eventos ................................................................................................................................................................................... 145 ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 6 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n11.0 Tablas ................................ ................................ ................................ ................................ ........................ 147 \n11.1 Tablas de Par\u00e1metros ............................................................................................................................................................ 147 \n11.2 Tablas de Datos ...................................................................................................................................................................... 150 \n \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 7 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nIntroducci\u00f3n \nEn este manual se describe la definici\u00f3n de los procesos de negocio, los pasos necesarios \npara su definici\u00f3n, as\u00ed como los elementos necesarios para configurar la aplicaci\u00f3n, a los \nefectos de la definici\u00f3n de los flujos de trabajo en el Sistema Bantotal. \nLos objetivos de este documento son: \n\u25aa Describir el Workflow y los pasos necesarios para su implementaci\u00f3n. \n\u25aa Presentar una completa gu\u00eda de consulta f\u00e1cilmente comprensible para quien trabaja \ncon la aplicaci\u00f3n Bantotal, a los efectos de la implementaci\u00f3n de Procesos de Negocio \na trav\u00e9s del Workflow. \n\u25aa Para quienes ya han estado trabajando con la versi\u00f3n 1 del producto pueden limitarse \na leer los siguientes puntos: \n\u2022 Un repaso de los puntos 2.4.2 Atributos y 2.4.3 Formularios ya que se \nintroducen nuevos conceptos \n\u2022 La secci\u00f3n 2.5 de este Manual, ya que all\u00ed se exponen los principales \ncambios introducidos en la versi\u00f3n v2. \n \n1.1 Visi\u00f3n General: \u00bfQu\u00e9 es el Workflow?  \nEl hecho de llevar adelante cualquier empresa implica llevar adelante distintos procesos. \nAlgunos de estos procesos involucran s\u00f3lo una etapa. Sin embargo, en muchos casos se \nnecesitan muchas etapas para terminar un proceso. Los pr\u00e9stamos pueden ser un eje mplo \nde esto: el cliente realiza una solicitud, luego otra persona la analiza y la aprueba o la rechaza, \ny en caso que se apruebe, se le da el pr\u00e9stamo al cliente. Cuando los procesos involucran \nm\u00e1s de una etapa es donde el concepto de Workflow se aplica y donde las herramientas de \nWorkflow pueden ser de mucha utilidad. El concepto de Workflow es el siguiente: \n\u201cLa automatizaci\u00f3n de un proceso de negocio, total o parcial, en la cual documentos, \ninformaci\u00f3n o tareas son pasadas de un participante a otro a los efectos de su \nprocesamiento, de acuerdo a un conjunto de reglas establecidas\u201d (WFMC - Workflow \nManagement Coalition). \nSe puede ver a las herramientas de Workflow como un conjunto de herramientas que ayudan \na automatizar los procesos que involucran m\u00e1s de una etapa y a hacer que su administraci\u00f3n \nsea m\u00e1s sencilla. Ayudan a integrar distintos sectores de la empr esa para que trabajen \njuntos.  \nLas herramientas de Workflow se encargan de transmitir la informaci\u00f3n entre los distintos \nparticipantes de los procesos de negocio de forma autom\u00e1tica, permitiendo desarrollar \nprocesos complejos que involucren a distintos sec tores de la empresa de forma  m\u00e1s \nordenada y controlada.  \nDentro de las herramientas de Workflow se incluyen herramientas de dise\u00f1o, que permiten \ndise\u00f1ar los procesos y pasarlos a producci\u00f3n, y herramientas de auditor\u00eda, que generan \ninformaci\u00f3n hist\u00f3rica de los tiempos en que se desarrollaron los procesos. Junto con estas ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 8 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nherramientas se incluye el Inbox, que es la interfaz con la que interact\u00faan los participantes \nde los procesos de negocio para hacer que todo este flujo de informaci\u00f3n sea posible. El \nInbox le brinda a cada usuario una lista de las tareas que tiene asignadas, junto con las \ntareas que no est\u00e1n tomadas por otro usuario y que puede desarrollar. A trav\u00e9s del Inbox, \ncada usuario ejecuta y administra las tareas que le corresponden para desempe\u00f1ar l os \nprocesos de negocio de la empresa.  \n \n1.2 \u00bfPor qu\u00e9 Usar Workflow?  \n \nLas herramientas de Workflow surgen como una necesidad de poder reaccionar r\u00e1pido ante \nla competencia y poder crear aplicaciones para llevar adelante los nuevos procesos de la \nempresa de for ma eficaz y eficiente. Proveen servicios para poder realizar cambios en la \noperativa de forma sencilla y r\u00e1pida, evitando tener que invertir muchas horas de \nprogramaci\u00f3n antes de poder ver reflejado los cambios. La tarea de incorporar los procesos \nde negocio en el sistema es realizada, en su mayor\u00eda, de forma casi autom\u00e1tica.  \nLos roles de los implementadores cambian. En lugar de preocuparse por implementar el \nproceso, pasan a buscar formas de crear mecanismos para hacerlos m\u00e1s eficaces y \neficientes. De esta forma, se logra invertir esas horas que antes se usaban para implementar \nlos procesos, en buscar mecanismos para que los procesos se desarrollen de buena forma y \nse adapten correctamente a las realidades cambiantes de la empresa. \nAl automatizar los procesos, estos pasan a ser controlados por la herramienta de Workflow, \nlo cual brinda orden y seguridad entre el flujo de informaci\u00f3n. La herramienta de Workflow es \nla encargada de manejar la informaci\u00f3n entre los participantes de los procesos de negocio, \nocup\u00e1ndose de que s\u00f3lo reciban la informaci\u00f3n las personas que son capaces de procesarla. \nAdicionalmente, se encarga de controlar que la informaci\u00f3n ingresada en cada tarea sea \nv\u00e1lida antes de pasar a la siguiente tarea, lo que da una mayor seguridad.  \nEn resumen, la automatizaci\u00f3n de los procesos trae como consecuencia algunos beneficios \ndirectos: \n\u25aa Mayor productividad: La herramienta de Workflow se encarga de hacer llegar todas las \ntareas que le corresponden a cada usuario de forma ordenada, y cuando el usuario  \ntermina de hacer su trabajo se encarga de pasar la tarea a la siguiente persona. Esto \nimplica que los usuarios se concentran exclusivamente en realizar la tarea de su \nespecialidad, lo que significa una mayor productividad. \n\u25aa Tiempos m\u00e1s r\u00e1pidos de procesami ento: La ejecuci\u00f3n de un proceso automatizado \ntiende a ser m\u00e1s r\u00e1pido que un proceso manual. Bajo este principio, la idea de que \nalgunas tareas puedan automatizarse va a implicar mejores tiempos de \nprocesamiento. Adem\u00e1s, el Workflow soporta la ejecuci\u00f3n de  tareas en paralelo. Esto \nsignifica que si un proceso involucra muchas tareas, pueden desarrollarse algunas \ntareas simult\u00e1neamente reduciendo de forma considerable el lapso de tiempo en \nterminar los procesos. \n\u25aa Reducci\u00f3n de los costos operativos: La automati zaci\u00f3n tiene como consecuencia la \nreducci\u00f3n de costos operativos. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 9 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u25aa Mayor control: El motor de Workflow se encarga de garantizar que todas las tareas que \nfueron definidas en los procesos sean realizadas, en el orden que fue preestablecido. \nEsto brinda un gra do de seguridad sobre los procesos, principalmente en procesos \ncomplejos, que permite esperar que estos sean desempe\u00f1ados exa ctamente como \nfueron definidos. \nOtros beneficios no tan directos son: \n\u25aa Mejora del servicio: El cliente es atendido de forma m\u00e1s r\u00e1pi da, se cometen menos \nerrores y la historia de la ejecuci\u00f3n de instancias de los procesos est\u00e1 siempre \ndisponible para consultas. \n\u25aa Mejoran las condiciones para los empleados: Pocas personas disfrutan hacer tareas \nrepetitivas. Este tipo de trabajo es el mejor  candidato para la automatizaci\u00f3n; en la \nmayor\u00eda de los casos, los empleados pasar\u00e1n a realizar tareas que son m\u00e1s de su \nagrado, y as\u00ed contribuir\u00e1n mejor al \u00e9xito de la organizaci\u00f3n \n\u25aa Es m\u00e1s f\u00e1cil adaptarse a los cambios: Las organizaciones pueden continuame nte \nredefinir sus procesos para adaptarlo a la forma en que mejor se ajusten a las \nnecesidades de la organizaci\u00f3n \n\u25aa M\u00e1s calidad: Los procesos se desarrollan de una forma m\u00e1s ordenada y similar para \ntodos los procesos de la empresa. Se cometen menos errores y  la calidad pasa a ser \nm\u00e1s uniforme, ya que el motor de Workflow est\u00e1 en todo momento presente \nfiscalizando que la informaci\u00f3n se maneje de la forma en que fue inicialmente definida. \n\u25aa Mejor soporte para decisiones: La herramienta de Workflow se encarga de g enerar \ninformaci\u00f3n de auditor\u00eda, como por ejemplo, tiempo que tarda en realizarse cada tarea. \nEsto ayuda a que se puedan detectar cuellos de botella en los procesos, y da m\u00e1s \ninformaci\u00f3n para tomar decisiones \n\u25aa Mejor capacidad de planeamiento: Con informaci\u00f3 n clara de c\u00f3mo se desarrollan los \nprocesos de la organizaci\u00f3n y del progreso de los procesos es m\u00e1s f\u00e1cil formular planes \nefectivos. \n\u25aa M\u00e1s oportunidades: Con mecanismos m\u00e1s r\u00e1pidos para cambiar la estructura en que \nse desarrollan los procesos, las organizaciones pueden responder de forma m\u00e1s r\u00e1pida \na los cambios del mercado y a las nuevas oportunidades. \n\u25aa Mejora la comunicaci\u00f3n entre organizaciones: Dentro del Workflow se pueden incluir \ntareas que se comuniquen con otros sistemas, lo que ayuda desarrollar apli caciones \nque se comunican con otras brindando la misma interfaz para los usuarios. \n \n1.3 \u00bfAlcances?  \n \nEl m\u00f3dulo de Workflow del Sistema Bantotal comprende: \n\u25aa Definici\u00f3n de los procesos a trav\u00e9s de diagramas UML (utilizando GeneXus Process \nModeler). \n\u25aa Gesti\u00f3n de las tareas de las personas a trav\u00e9s de una bandeja de tareas y seg\u00fan los \ndiagramas de procesos (utilizando GXFlow). ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 10 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u25aa Definici\u00f3n de formularios y asistentes para visualizaci\u00f3n y pedido de datos. \n\u25aa Resoluci\u00f3n de flujos alternativos en base a condiciones. \n\u25aa Integraci\u00f3n de transacciones Bantotal en flujos de trabajos.  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 11 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n2.0 Procesos de Negocio  \n \n2.1 Concepto \n \nEs un conjunto de uno o m\u00e1s procedimientos o actividades directamente ligadas, que \ncolectivamente realizan un objetivo del negocio, normalmente dentro del contexto de una \nestructura organizacional que define roles funcionales y relaciones entre los mismos\u201d (WFMC \n- Workflow Management Coalition). \n \nLa implementaci\u00f3n de un Workflow consiste en definir los distintos procesos de negocio de \nla empresa (por ejemplo, solicitud de pr\u00e9stamo). \n \n \n2.2 Definici\u00f3n de Procesos de Negocio \n \nLa definici\u00f3n de cada proceso de negocio se divide en 4 partes: \n \n1. Especificaci\u00f3n del proceso: En esta etapa se utilizan diagramas para definir las \nactividades o tareas del proceso y el orden en que deben desarrollarse. \n \n2. Definir el flujo de datos: Un proceso, en general, involucra el intercambio de datos.  \nEn esta etapa se definen los datos que se necesitan para cumplir cada tarea y \nc\u00f3mo fluyen entre las distintas tareas que componen al proceso de negocio. \n \n3. Implementaci\u00f3n de programas adicionales: Esta etapa consiste en la \nautomatizaci\u00f3n de algunas tareas, creando programas que las realicen en lugar de \ndesarrollarlas de forma manual.  \n \n4. Testeo y puesta en producci\u00f3n: Finalmente, luego que se completa la definici\u00f3n del \nproceso de negocio, se prueba y se pone en producci\u00f3n. \n \n \n2.3 Pasos Para la Definici\u00f3n de los Procesos de Negocio \n \nPara la definici\u00f3n de los procesos de negocio se utiliza la herramienta GeneXus Process \nModeler. Esta herramienta permite definir los procesos de negocio a trav\u00e9s de diagramas \nUML. El UML es un lenguaje de diagramaci \u00f3n creado con el fin de brindar un lenguaje \nest\u00e1ndar principalmente para modelar sistemas inform\u00e1ticos, pero tambi\u00e9n puede ser \nutilizado para modelos de negocio y cualquier otra cosa, ya que es f\u00e1cilmente extensible. Una \nde las aplicaciones del UML es para definir procesos de negocio. \nLa definici\u00f3n de los procesos consta de 3 elementos: ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 12 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n\u25aa Los casos de uso: Los casos de uso representan a los requerimientos del negocio que \nse quieren satisfacer (se utilizan los diagramas de caso de uso para definirlos). Un \nejemplo de un caso de uso es: Solicitud de pr\u00e9stamo. \n\u25aa La estructura organizacional: Es una estructura jer\u00e1rquica de los roles funcionales de \nlos usuarios que intervendr\u00e1n para resolver los requerimientos. \n\u25aa Los procesos de negocio: Constituye la definici\u00f3n del p roceso de negocio (se utilizan \nlos diagramas de actividad para definirlos). \nEl primer paso para especificar un proceso de negocio es identificar un requerimiento. Los \ndiagramas de caso de uso ayudan a definir cu\u00e1les son los requerimientos que se desean \nsatisfacer. En esta etapa se debe poner especial \u00e9nfasis en agrupar aquellos requerimientos \nque puedan tener tratamiento similar para que puedan reutilizarse elementos de los \nprocesos de negocio similares. Esto se logra poniendo los requerimientos en un mismo  \ndiagrama de casos de uso. M\u00e1s adelante se ver\u00e1 m\u00e1s claro por qu\u00e9 puede ser importante \ndesarrollar conjuntamente todos los procesos de negocio similares. \nA medida que se van desarrollando los procesos de negocio, se deben ir agregando los roles \nfuncionales de los usuarios que desempe\u00f1ar\u00e1n cada tarea del proceso. Cada tarea de un \nproceso de negocio es desarrollada por un determinado grupo de usuarios, se asignan roles \nfuncionales a grupos de usuarios para realizar esta agrupaci\u00f3n. Es importante destacar que \nla misma estructura organizacional es utilizada para todos los procesos de negocio. Por lo \ntanto, s\u00f3lo es necesario definirla una \u00fanica vez.  \nEstos roles son utilizados para asignar en cada tarea qu\u00e9 roles deben tener los usuarios que \ndeben desarrollar esas tarea. Al hacer la puesta en producci\u00f3n se le asignar\u00e1n a los usuarios \nlos roles que tienen y el motor de Workflow se encargar\u00e1 de hacer llegar las tareas \n\u00fanicamente a los usuarios que tienen el rol adecuado. \n \n \nPara cada requerimiento (caso de uso) se asigna un diagrama de actividad que muestra \nc\u00f3mo se lleva a cabo ese requerimiento. Los diagramas de caso de uso muestran \nDIAGRAMA DE CASOS DE USO \nActor \nCasos de uso \n(requerimientos) \nRefinanciaci\u00f3n de \npr\u00e9stamo \nSolicitud de \npr\u00e9stamo ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 13 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nnecesidades (lo que hay que hacer) y los diagramas de actividad muestran c\u00f3mo se van a \nresolver esas necesidades (c\u00f3mo se va a hacer). Los diagramas de actividad se expresan en \nun lenguaje natural que no requiere ninguna clase de conocimientos t\u00e9cnicos, lo que facilita \nla colaboraci\u00f3n entre los equipos t\u00e9cnicos y los equipos funcionales. Adem\u00e1s, con los \ndiagramas de actividad se brinda una herramienta para que las personas que dise\u00f1an los \nprocesos puedan dise\u00f1arlos y modificarlos de forma r\u00e1pida y sencilla. Lo m\u00e1s importante a \ndestacar, es que la herramienta de Workflow es capaz de generar los programas leyendo \nesos diagramas sin necesidad de tener que desarrollar programas que realicen el flujo de \ntrabajo que se indic\u00f3 en el diagrama. Lo \u00fanico que se debe hacer es impactar los datos de \nlos diagramas en la base de datos de Bantotal y sincronizar los datos con la herramienta de \nWorkflow.   \n \nEn los diagramas de actividad se definen:  \n\u25aa Las tareas que hay que realizar para cumplir cada proceso. \n \nInicio del \nproceso Fin del \nproceso \nProceso \ninteractivo \nRuta \nProceso batch (no \nrequiere la \nintervenci\u00f3n de \nun usuario) \nEstructura \ncondicional \nDiagrama de actividad ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 14 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u25aa El orden en que se desempe\u00f1an las tareas. Aqu\u00ed se indica qu\u00e9 tarea debe desarrollarse \nantes y qu\u00e9 tareas deben realizarse cuando se termina una tarea. Esto se hace \ndefiniendo las rutas y las tareas. \n\u25aa Qu\u00e9 roles funcionales son necesarios para desarrollar cada tarea. \n\u25aa La acci\u00f3n que se realizar\u00e1 en cada tarea. Esto puede ser: solicitar datos, hacer una \nllamada al transaccional, o la ejecuci\u00f3n de cualquier otro programa.  \n\u25aa Luego de ingresada esta informaci\u00f3n se impacta en la base de datos de Bantotal. Al \nrealizar esta operaci\u00f3n, se interpreta la definici\u00f3n del proceso que se hizo a trav\u00e9s de \nlos diagramas y esa informaci\u00f3n es pasada a la base de datos de Bantotal para que \npueda ser procesada por la herramienta de Workflow.  \nLa ejecuci\u00f3n de los procesos se realizar\u00e1 a trav\u00e9s de la bandeja de entrada de los usuarios. \nCada usuario dispondr\u00e1 de una bandeja de entrada donde ver\u00e1 todas sus tareas asignadas \ny las tareas pendientes que no han sido asignadas a otro usuario. A trav\u00e9s de la bandeja de \nentrada, un usuario puede tomar tareas (se le asigna la tarea a \u00e9l) y ejecutarlas. Durante la \nejecuci\u00f3n, si se confirman las tareas, se crear\u00e1n las siguientes tareas en el flujo de trabajo \ndefinido en el diagrama de actividad.  \nPara obtener informaci\u00f3n m\u00e1s detallada acerca de la bandeja de entrada (proporcionada por \nGXFlow) o la definici\u00f3n de los procesos (utilizando GeneXus Process Modeler) dirigirse a su \nproveedor local de GeneXus. \n \n2.4 Definir el Flujo de Datos \n \nEn el desarrollo de cada proceso hay un flujo de datos. Por ejemplo, en una primera tarea se \nhace una solicitud para un pr\u00e9stamo y luego otra tarea mostrar\u00e1 los datos de una solicitud a \notra persona para que \u00e9ste decida si autoriza el pr\u00e9stamo o no. \nEn la etapa anterior, se defini\u00f3 el flujo de las tareas. Ahora corresponde definir  c\u00f3mo se \ntratar\u00e1n los datos en cada tarea y c\u00f3mo se establecer\u00e1 la comunicaci\u00f3n entre la s distintas \ntareas del proceso. Se accede desde la aplicaci\u00f3n Bantotal, Inicio/Men\u00fa de Instalaci\u00f3n de \nBantotal/Flujo de Trabajo/Estructuras, se despliega el siguiente panel: \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 15 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nFigura 1 - Estructuras (HMSG001) \nEn todos los paneles s e dispondr\u00e1 del bot\u00f3n  \u2018Editar Info\u2019 para especificar con cada \nparametrizaci\u00f3n que es lo que se est\u00e1 resolviendo y tener luego  esta informaci\u00f3n como  \napoyo. A modo de ejemplo se visualiza  en el panel \u2018Trabajar con Mapeos\u2019  la info cargada  \ndesde el bot\u00f3n \u2018Editar Info\u2019. \n \n  \n2.4.1 Mensajes \n \nPara poder trasmitir los datos entre las tareas se utilizan los mensajes. Cada vez que se \nejecuta un proceso, se genera una instancia del proceso y a \u00e9sta se le asocia un mensaje por \nel cual se trasmitir\u00e1n los datos entre las tareas.  \nSiguiendo con el ejem plo de la solicitud de pr\u00e9stamos, el funcionamiento es el siguiente. \nInicialmente el mensaje est\u00e1 vac\u00edo y lo recibe la tarea de solicitud. Esta tarea pide los datos \nde la solicitud y guarda estos datos en el mensaje. Luego, este mensaje es pasado a la \nsiguiente tarea (la de autorizaci\u00f3n). Esta tarea lee los datos de la solicitud del mensaje y se \nlos muestra a la persona encargada de realizar la autorizaci\u00f3n. En caso que el usuario \nautorice el pr\u00e9stamo, se indica en el mensaje que la solicitud fue autorizada; en caso que no \nlo sea, se indica que no lo fue. \nTodos los datos que se quieran trasmitir entre tareas se deben escribir en el mensaje. Cada \ntarea lee lo que necesita del mensaje y escribe en el mensaje los datos que quiera trasmitir \na otra tarea. \nLas tareas leen y escriben sobre atributos del mensaje. Los atributos son los distintos datos \nque maneja el mensaje (por ejemplo: cuenta, monto, autorizado).  \nSi se quiere pasar una cuenta entre distintas tareas se puede crear un atributo cuenta para \nque se escriba all\u00ed la cuenta que se quiere pasar. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 16 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEl primer paso para definir el flujo de datos de un proceso es definir la estructura que van a \ntener los mensajes que van a utilizar. \n \n \n \n2.4.1.1 Estructuras de Mensaje \n \nComo ya se mencion\u00f3, para indicar c\u00f3mo ser\u00e1n los mensajes que se utilizar\u00e1n para \nintercambiar datos entre las tareas es necesario asignarle una estructura de mensaje al \nproceso. \n \nSe accede al siguiente panel mediante el bot\u00f3n \u2018Agregar\u2019 (Figura 1): \n \n \nUna estructura de mensaje tiene los siguientes datos: \n\u25aa C\u00f3digo: C\u00f3digo que identifica a la estructura de mensaje \n\u25aa Nombre: Nombre de la estructura de mensaje \n\u25aa Comentario: En este campo se puede incluir alg\u00fan comentario sobre la estructura de \nmensaje. Estos comentarios tienen el \u00fanico fin de documentaci\u00f3n. Se recomienda que \nse indique aqu\u00ed para qu\u00e9 se usa la estructura, y en caso que tenga alguna \nparticularidad, tambi\u00e9n se recomienda que se incluya aqu\u00ed. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 17 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nCada proceso debe tener asignada una Estructura de Mensaje, donde se indica la estructura \nde los mensajes que va a utilizar el proceso para intercambiar informaci\u00f3n.  \nAl desarrollar procesos similares puede que se encuentren algunos comportamientos que se \nrepiten o que tienen bastante similitud. Por ejemplo, si hacemos distintas solicitudes para \ndistintas clases de pr\u00e9stamos seguramente vaya a haber varios elementos que se repiten, \npor ejemplo, la autorizaci\u00f3n. Seguramente, en todos vamos a necesitar una autorizaci\u00f3n del \npr\u00e9stamo. Como veremos m\u00e1s adelante, a las estructuras de mensajes podemos asociarles \ndistintos elementos, en particular un formulario.  \nCon los formularios podremos resolver las autorizaciones. Al asociarle la misma estructura \nde mensaje a distintos procesos de solicitud de pr\u00e9stamos, no habr\u00e1 que definir c\u00f3mo es la \nautorizaci\u00f3n para los distintos pr\u00e9stamos. Se definir\u00e1 una \u00fanica vez c\u00f3mo se resuelve la \nautorizaci\u00f3n y esta definici\u00f3n quedar\u00e1 en un \u00fanico paquete que se llama estructura de \nmensaje. Al asignar la estructura de mensaje a un proceso, quedar\u00e1n disponibles todos los \natributos que se definieron en la estructura de mensaje m\u00e1s todos los objetos que est\u00e1n en \nla estructura de mensaje. Por eso es importante detectar todos los casos de uso (los \nrequerimientos) similares, ya que, seguramente requerir\u00e1n atributos similares y objetos \nsimilares.  Al usar la misma estructura de mensaje para todos se podr\u00e1n reutilizar algunos \nelementos y as\u00ed se disminuir\u00e1 el trabajo necesario para desarrollar cada proceso de negocio. \n \nM\u00e1s adelante se describir\u00e1n a fondo cada uno de los objetos que se pue den asociar a una \nestructura de mensaje que son compartidos por todos los procesos que usen la misma \nestructura de mensaje.  Es importante destacar que no necesariamente un proceso de \nnegocio tiene que usar todos los atributos definidos en la estructura de mensaje, ni tiene que \nusar todos los objetos que tiene la estructura de mensaje. \n \n \n2.4.1.2 Procesos \n \nEstructura de mensaje \nCuenta, Monto, Autorizado \nObjetos \nAtributos \nFormularios Asistentes \nLlamadas al \ntransaccional \nSolicitud de \npr\u00e9stamo (pesos) \nSolicitud de \npr\u00e9stamo (d\u00f3lares) ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 18 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nLuego de creada la estructura de mensaje se asocia el o los procesos vinculados. Una \nestructura de mensaje define los atributos de los mensajes que van a manejar los procesos \nque tengan asociada esa estructura de mensaje. \nSe presiona el bot\u00f3n \u2018Procesos\u2019 (Figura1), se despliega el siguiente panel: \n \n \nFigura 2 - Procesos de la Estructura de Mensajes (HMSG001P) \n \n2.4.2 Atributos \n \nLas estructuras de mensajes est\u00e1n compuestas por atributos y por objetos. Los atributos \nrepresentan los datos que se manejan en los mensajes. Cada vez que se quiera manejar un \nnuevo dato es necesario definir un atributo en la estructura de mensaje para manejarlo. Al \ndefinir el atributo se dar\u00e1 informaci\u00f3n sobre las propiedades del atributo para que los dem\u00e1s \nobjetos de la estructura de mensaje sepan c\u00f3mo se debe manejar ese atributo. Por ejemplo, \npodemos definir un atributo y decir que es un n\u00famero de cuenta, entonces al pedir ese \natributo en un formulario se sabr\u00e1 que se debe esperar un n\u00famero de una cuenta, y por eso, \nvalidar\u00e1 que el n\u00famero que se ingrese corresponda a una cuenta v\u00e1lida. \nLa informaci\u00f3n que se define para los atributos es utilizada para garantizar que el atributo se \nmaneje de forma correcta. Al pedir que se ingresen los valores para los atributos antes de \ngrabar los datos se verificar\u00e1 que los datos ingresados cumplan con la definici\u00f3n del atributo; \npor ejemplo, si se define que un atributo es num\u00e9rico no se permitir\u00e1 que se ingresen letras. \nDentro de la definici\u00f3n del atributo tambi\u00e9n se puede definir un rango de valores v\u00e1lidos. El \nrango indica los valores posibles que puede tener el atributo. Antes de grabar este atributo \nse verificar\u00e1 que est\u00e9 dentro del rango de valores v\u00e1lidos.  Por ejemplo, para un atributo que \nrepresente una descripci\u00f3n dentro del rango se puede indicar que la descripci\u00f3n no puede \nestar vac\u00eda. Esto se hace, indicando en el rango que el valor \u201cvac\u00edo\u201d no forma parte del rango \nde valores del atributo.   \nSe presiona el bot\u00f3n \u2018Atributos\u2019 (Figura 1), se despliega el siguiente panel: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 19 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nFigura 3 - Trabajar con Atributos (HMSG002) \n \nMediante el bot\u00f3n \u2018Agregar\u2019 (Figura 3) se despliega el siguiente panel: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 20 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nDonde se requiere le registro de los siguientes datos para cada atributo: \nCategor\u00eda \u2018General\u2019 \n \n\u25aa Nombre: Nombre del atributo. \n\u25aa Descripci\u00f3n: Descripci\u00f3n de lo que representa el atributo. \n\u25aa Representa: Indica si el atributo representa alg\u00fan atributo de Bantotal, como por \nejemplo un n\u00famero de cuenta.  Si se indica que un atributo representa un n\u00famero de \ncuenta el sistema sabr\u00e1 que puede inferir el nombre de la cuenta al igual que otras \ncaracter\u00edsticas.  Adem\u00e1s de elementos predefinidos de Bantotal, se puede indicar que \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 21 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nun atributo representa un \u201cAtributo definido por el usuario\u201d.  En este caso, se deben \ndefinir las caracter\u00edsticas del atributo: tipo de dato, largo, decimales y la m\u00e1scara.  \nExiste una nue va posibilidad de definir atributos especiales, cuyos nombres est\u00e1 \nreservados por el dise\u00f1ador mediante el prefijo \u201cDES_\u201d.   \n      Por ejemplo: \n\u2022 Si se selecciona \u201cCategor\u00eda\u201d se est\u00e1 definiendo un atributo DES_CATEG, lo que \nrepresenta una categor\u00eda en Descartes.  \n\u2022 Si se selecciona \u201cGrilla\u201d se est\u00e1 definiendo un atributo DES_GRID.  Veremos m\u00e1s \nadelante c\u00f3mo utilizar este tipo de atributos en las secciones 2.5.1 y 2.5.6 \n\u2022 Si se selecciona \u2018Vacio\u2019 se est\u00e1 definiendo un atributo DES_VACIO, cumple la \nfunci\u00f3n de dejar espacios en blanco  para organizar los atributos dentro de un \nformulario. \n\u2022 Si se selecciona \u2018Texto\u2019, se est\u00e1 definiendo un atributo DES_TEXTO, donde se \ningresan textos fijos que se mostrar\u00e1n  en los formularios.  \n\u2022 Si se selecci\u00f3n \u2018Bot\u00f3n\u2019, se est\u00e1 definiendo  un atributo DES_BTN, este tipo de \natributos representan botones que ser\u00e1n parte  de un formulario y por los cuales  \nse podr\u00e1 acceder a formularios, asistentes o programas. \n\u25aa Tipo: Tipo de dato del atributo (Num\u00e9rico, Caracteres, Fecha o Fecha y hora). \n\u25aa Largo: Si el atributo es num\u00e9rico, el largo hace referencia a la cantidad m\u00e1xima de \nd\u00edgitos que se pueden ingresar. En caso que sea caracteres, hace referencia a la \ncantidad m\u00e1xima de caracteres. Para los otros tipos de datos no es tenido en cuenta. \nSi el tipo de datos es num\u00e9rico el largo es igual a: cantidad de d\u00edgitos enteros + \ncantidad de d\u00edgitos decimales; si tiene alg\u00fan digito decimal se debe sumar 1 para el \nseparador decimal.  \n\u25aa Decimales: Cantidad m\u00e1xima d\u00edgitos decimales (s\u00f3lo se tiene en cuenta para atributos \nnum\u00e9ricos). \n\u25aa Tiene signo: Si se indica que tiene signo, el atributo maneja signo positivo y negativo. \nEn caso que no tenga signo, el atributo siempre ser\u00e1 positivo (o cero) (s\u00f3lo se tiene en \ncuenta para valores num\u00e9ricos). \n\u25aa M\u00e1scara: M\u00e1scara que se utilizar\u00e1 para mostrar el atributo (ver Ap\u00e9ndice A). \n\u25aa Rango: Rango de valores v\u00e1lidos para el atributo (por ejemplo: 1 2 3 4; si se quiere que \ns\u00f3lo se puedan ingresar los n\u00fameros 1, 2, 3 o 4). En caso que se deje vac\u00edo se \nconsidera que todos los valores son v\u00e1lidos (ver Ap\u00e9ndice B). \nCategor\u00eda \u2018Control\u2019 \n \n\u25aa Control: Hace referencia al control que se usar\u00e1 para pedir el valor. Si se selecciona \nEditBox se mostrar\u00e1 una caja de texto donde se puede escribir el valor del atributo. Si \nse selecciona ComboBox se muestra una lista de valores para que se seleccione uno. \nCategor\u00eda \u2018Carga autom\u00e1tica\u2019 \n\u25aa Carga Autom\u00e1tica: se establece si la carga se va a realizar por un programa especial o \nmediante una sentencia SQL pre- parametrizada. En el caso de seleccionar una carga ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 22 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \npor Programa y no completarse el nombre del mismo simplemente no se ejecuta \nninguno. \nCon esta funcionalidad Ud. podr\u00e1 cargar cualquier control en el formulario Web, ya sea \nun EditBox, un ComboBox, o inclusive una Grilla simplemente realizando un programa \nde carga, o inclusive sin programar una sola l\u00ednea, definiendo las sentencias SQL \napropiadas como veremos en la Secci\u00f3n 4 de este documento. \n \nCategor\u00eda \u2018Validaci\u00f3n\u2019 \n \n\u25aa Validaci\u00f3n: De manera an\u00e1loga a la Carga Autom\u00e1tica puede realizarse la Validaci\u00f3n \nAutom\u00e1tica, mediante la construcci\u00f3n de un programa de Validaci\u00f3n o simplemente a \ntrav\u00e9s de una  sentencia SQL pre-parametrizada. En caso de no asociar un programa o \nla sentencia correspondiente, no se realizar\u00e1 m\u00e1s validaci\u00f3n que la parametrizada en \nel rango del atributo. \n \n2.4.2.1 Generaci\u00f3n de Datos Relevantes (Relevant Data) \n \nTodos los atributos que deban estar involucrados en el proceso, una vez que son dados de \nalta deben ser generados hacia Workflow mediante algunas de las opciones, o bien \nseleccionar los que se quieren generar o indicar genera todos.  \nSe presiona el bot\u00f3n \u2018Generar Atr. WF\u2019 (Figura 3) se despliega el siguiente panel: \n \n \n2.4.2.2 Propiedades Atributos \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 23 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nMediante la opci\u00f3n del bot\u00f3n \u2018Modificar\u2019 (Figura 3), se accede al panel de edici\u00f3n de atributos \n\u2018Mantenimiento de Atributos\u2019 (HMSG002T), en lo que respecta a la  edici\u00f3n de la categor\u00eda \n\u2018Propiedades\u2019, se visualiza  una captura de la pantalla de edici\u00f3n de atributos:  \n \n \nLista de propiedades disponibles: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 24 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n2.4.3 Formularios \n \nLos formularios son unos de los objetos que pueden tener una estructura de mensaje. Los \nformularios permiten armar p\u00e1ginas de solicitud de datos indicando qu\u00e9 datos se van a \nmostrar y cu\u00e1les se van a pedir. Al ejecutar el formulario, se toman los datos del mensaje \nasociado y al aceptar el formulario se graban los datos all\u00ed. Por ejemplo, un formulario podr\u00eda \nser: \n\u25aa Pedir la cuenta de la persona que solicita el pr\u00e9stamo \n\u25aa Pedir el monto del pr\u00e9stamo \nLuego, se ver\u00e1 c\u00f3mo se pueden asociar estos formularios a tareas espec\u00edficas (en este caso, \nla tarea de Solicitud). Esto tendr\u00e1 como resultado que cuando se ejecute esa tarea se \nC\u00f3digo Nombre (en combo de selecci\u00f3n) Descripci\u00f3n Valores Aplica a \natributos: \nREFRESCAR REFRESCAR ATRIB Actualiza el atributo en cada \nRefresh S/N De solo \nlectura \nGRABAR_DATOS GRABAR DATOS FORM \nGraba en RD los datos del \nformulario al presionarse el \nbot\u00f3n \nS/N Botones \nCONSULTA MODO CONSULTA Llama en modo consulta al \nformulario S/N \nBotones que \nllaman a un \nformulario \nCONSULTA MODO CONSULTA \nDeshabilita los botones \nagregar/modificar/eliminar \nde una grilla, incluye el \nbot\u00f3n 'consultar' \nS/N Grillas \nREFRESCAR_DATOS REFRESCAR GRILLA Actualiza la carga de la grilla \nen cada Refresh S/N Grillas \nGRABAR_RD GRABAR RD DESDE GRILLA \nIndica el atributo de \nrelevant data donde sea \ndesea grabar el atributo de \ngrilla \nc\u00f3digo \nde \natributo \nde RD \nAtributos \nSELECCIONAR BOT\u00d3N SELECCIONAR Despliega/Oculta el bot\u00f3n \n'Seleccionar' S/N Grillas \nRefreshOnChange REFRESCAR FORM SI CAMBIA \nHace un refresh del \nformulario cuando cambia \nel valor del atributo combo \nS/N Atributos \ncombobox ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 25 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nmostrar\u00e1 el formulario. Al mostrar el formulario se desplegar\u00e1 un campo para pedir la cuenta \ny el monto del pr\u00e9stamo.  \nPara la autorizaci\u00f3n del pr\u00e9stamo el formulario ser\u00eda: \n\u25aa Mostrar cuenta de la persona que solicit\u00f3 el pr\u00e9stamo \n\u25aa Mostrar monto del pr\u00e9stamo \n\u25aa Pedir autorizaci\u00f3n \nLos formularios le dan una gran potencia al sistema, ya que, permiten resolver los pedidos \nde datos de forma r\u00e1pida y sin necesidad programaci\u00f3n adicional.  \nDentro de los formularios tambi\u00e9n se pueden definir comportamientos tales como: que s\u00f3lo \nacepte valores dentro de determinados rangos, que el usuario tenga para seleccionar el valor \ndentro de una lista de valores, que se pida o se muestre un valor, cu\u00e1l es el valor por defecto, \netc. Adem\u00e1s, todas estas propiedades pueden ser modificadas en cualquier mom ento \nvariando el comportamiento de todos los procesos que lo usen sin necesidad de tener que \nrealizar alg\u00fan cambio sobre alguno de los programas. Ya que, en el momento en que se \nejecutan los formularios se interpreta su definici\u00f3n y de forma autom\u00e1tica se genera el \nformulario. Esto da una buena capacidad para poder realizar cambios en los procesos de \nnegocio y que puedan ser puestos en producci\u00f3n r\u00e1pidamente. Por eso es recomendable, \nsiempre que sea posible, que las solicitudes e ingresos de datos sean resu eltas a trav\u00e9s de \nformularios. \nPara definir un formulario se deben definir los atributos de la estructura de mensajes que \nutilizar\u00e1 el formulario. A medida que se van agregando los atributos en el formulario se va \nestableciendo el orden en que se muestran o se piden. Sin embargo, este orden puede ser \ncambiado en cualquier momento. \nSe accede al siguiente panel desde el bot\u00f3n \u2018Formularios\u2019 (figura 1): \n \nFigura 4 - Trabajar con Formularios  (HMSG100) \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 26 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nAl presionar el bot\u00f3n \u2018Agregar\u2019 se despliega el siguiente panel: \n \nLos formularios tienen las siguientes propiedades: \n\u25aa C\u00f3digo: C\u00f3digo que identifica al formulario. \n\u25aa Nombre: Nombre del formulario. \n\u25aa Etiqueta: Descripci\u00f3n de lo que se espera que haga el usuario en el formulario. Al \nejecutar los formularios se muestra la etiqueta para darle una explicaci\u00f3n al usuario \nde lo que se debe hacer. \n\u25aa Comentario: Comentario sobre el formulario, s\u00f3lo tiene fines de documentaci\u00f3n. \nLuego de ser creado se debe ingresar los atri butos que lo componen mediante el bot\u00f3n \n\u2018Atributos\u2019 (Figura 4). Una vez que se ingresa se despliega la lista de atributos disponibles, \ndonde el usuario deber\u00e1 seleccionar los que corresponda. \nSe accede al siguiente panel mediante el bot\u00f3n \u2018Atributos\u2019 (Figura 4): \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 27 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nFigura 5 - Trabajar con Atributos de Formulario (HMSG101) \n \nSe accede al panel de manteamiento del atributo, mediante el bot\u00f3n \u2018Modificar\u2019 (Figura 5): \n \nConformado el formulario  para  cada atributo agregado se defini r\u00e1n las siguientes \npropiedades: \nCategor\u00eda \u2018General\u2019 \n \n\u25aa Orden: determina la posici\u00f3n que tendr\u00e1 el atributo en el formulario. \n\u25aa Tiene Default:  indica si el atributo tiene un valor por defecto.  \n\u25aa Valor Default: en caso de que lo tenga se desplegar\u00e1 el campo Valor por Default. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 28 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u25aa Mostrar en Grid: indica si se va a mostrar el atributo como una columna de un Grid. \nEsto es v\u00e1lido solamente cuando el Formulario que se est\u00e1 definiendo se utiliza como \nFormulario de ABM de una grilla, en otro caso se ignora esta propiedad.  \n \nCategor\u00eda \u2018Propiedades del Atributo\u2019 \nMediante el bot\u00f3n \u2018Nueva\u2019 se permite ingresar propiedades relativas a los atributos. por \nejemplo: \n \nPROPIEDAD VALOR ATRIBUTO \nQUE APLICA FUNCIONALIDAD \nCONSULTA S TIPO \nDES_GRID \nDe existir esta propiedad el formulario de ABM, \nbajo la grilla ser\u00e1 de modo consulta, es decir sus \natributos ser\u00e1n todos NO EDITABLES. \nRefreshOnChange  S                              TODOS \nDe tener definida esta propiedad, se est\u00e1 \nindicando que existir\u00e1 un cambio de los valores \nde este atributo cuando otro var\u00ede. Por ejemplo \ncuando las ciudades cambian en funci\u00f3n del pa\u00eds \nelegido.  \n \nGRABAR_DATOS S DES_BTN \nSe indica en S, se grabar\u00e1 la informaci\u00f3n \ncontenida en el formulario donde se encuentra el \natributo DES_BTN una vez que se acceda a este. \nEn caso de que no se defin\u00eda o se indique en N, el \ngrabado de la informaci\u00f3n se har\u00e1 en la forma \nhabitual, es decir al grabar y cerrar, dar siguiente \no finalizar. \nIMPRESO CODIGO \nIMPRESO DES_BTN Esto permite ejecutar un impreso a partir de un \nbot\u00f3n. \n \nCategor\u00eda \u2018Avanzadas\u2019 \n \n\u25aa Dimensionar Autom\u00e1ticamente (avanzado): Indica si las dimensiones del campo donde \nel usuario ve o ingresar\u00e1 el atributo se determinar\u00e1n de forma autom\u00e1tica. \n\u25aa Autoajustar autom\u00e1ticamente (avanzado): Indica si al dibujar el campo se ajustan sus \ndimensiones para que en los campos que difieren muy poco en su ancho se asigne el \nmismo ancho. \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 29 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nAlgunas de estas propiedades son para un manejo m\u00e1s avanzado, s\u00f3lo en caso de ser \nnecesaria una personalizaci\u00f3n muy espec\u00edfica deben de ser tenidas en cuenta las  \npropiedades avanzadas. \n \n2.4.3.1 Copiar Formularios \nAdicionalmente para facilitar el uso de informaci\u00f3n que se pueda repetir, se cuenta con la \nposibilidad de copiar formularios. Para ellos se selecciona el formulario se presiona el bot\u00f3n \n\u2018Copiar\u2019 y se despliega la  siguiente pantalla donde se  indicar\u00e1  la estructura, el c\u00f3digo y \nnombre a dar al nuevo formulario a crear. \n \nAl confirmar se muestran todos los atributos definidos en el formulario origen dando la \nposibilidad de que se puedan  copiar todos o una selecci\u00f3n de ellos al nuevo formulario que \nse est\u00e1 creando. \n \n2.4.3.2 Asociar Expresiones en Botones de Formularios \n \nEl objetivo es incluir la funcionalidad de que un atributo de tipo bot\u00f3n \u2018DES_BTN\u2019 asociado a \nun formulario pueda tener condicionado a una expresi\u00f3n el formulario/asistente a mostrar. \nEsto pretende poder llamar con un mismo bot\u00f3n a distintos formularios/asistentes \ndependiendo del resultado devuelto por la expresi\u00f3n. \nProcedimiento: \nA nivel de los paneles de \u2018Mantenimiento de Atributos\u2019 se habilit\u00f3 la posibilidad de: \n\u25aa En el campo \u2018Nombre de Pgm\u2019 en la secci\u00f3n de \u201cCarga autom\u00e1tica\u201d, indicar un c\u00f3digo \nde expresi\u00f3n. \n\u25aa En el campo \u2018Nombre de Pgm\u2019 en la secci\u00f3n de \u201cValidaci\u00f3n\u201d, indicar lo siguiente:    \n\u2022 \u2018EF\u2019, en el caso de que la expresi\u00f3n anteriormente indicada devuelva un c\u00f3digo \nde formulario  \n\u2022 \u2018EA\u2019 en caso de que la expresi\u00f3n devuelva un c\u00f3digo de asistente.  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 30 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nAl momento de presionar el bot\u00f3n,  se evaluar\u00e1 la expresi\u00f3n indicada y  se desplegar\u00e1 el \nformulario/asistente cuyo c\u00f3digo se haya obtenido de la evaluaci\u00f3n.  \n \n2.4.3.3 Como Ocultar Datos en Formularios \n \nSe implement\u00f3 la posibilidad de ocultar datos o dejar inhabilitados  en forma din\u00e1mica en los \nformularios. \nLos datos pasibles  de ocu ltamiento son atributos, categor\u00edas y grillas. Una categor\u00eda \ncomprende el t\u00edtulo de la misma as\u00ed como todos los atributos que est\u00e1n bajo la misma, hasta \nla siguiente categor\u00eda. \nLa regla se ejecuta cuando se ingresa a un formulario, cuando se pulsa el bot\u00f3n validar o \ncuando se ejecuta un refresh forzado por alg\u00fan atributo que tenga la propiedad \nRefreshOnChange \nLlos datos a ocultarse se infieren mediante la ejecuci\u00f3n de una Regla de Negocio. \nSe debe parametrizar en la Regla de Negocio todos aquellos grupos que est\u00e9n involucrados \nen las condiciones para ocultar atributos.   \nEn el resultado de cada grupo se debe incluir la lista de nombres, separados por punto y \ncoma, que correspondan a los atributos, grillas y categor\u00edas que se pretenden ocultar. \nSi una regla al ejecutarse devuelve m\u00e1s de un grupo verdadero, se ocultaran los atributos de \ncada  uno de los grupos cuya condici\u00f3n se cumpli\u00f3. \nse parametriza dicha regla en la definici\u00f3n del asistente que contenga el formulario donde \nest\u00e1n incluidos los datos que son pasibles de ocultar, se debe agregar la propiedad  \nCTL_VISIBILIDAD y en valor se debe incluir el n\u00famero de la regla. \nEn la definici\u00f3n del asistente que contenga el formulario donde est\u00e1n incluidos los datos que \nson pasibles de inhabilitar, se debe agreg ar la propiedad CTL_HABILITADOS y en valor se \ndebe incluir el n\u00famero de la regla. \n \n2.4.3.4 Funci\u00f3n en Formulario que Permite Traer info Desde Otros ATT (ej suma)  \n \nParametrizaci\u00f3n funciones en atributos:  \nSe pueden parametrizar por medio de reglas de negocio c\u00e1lculos en un formulario, utilizando \nla Relevant Data (RD) del propio formulario. \nEl c\u00e1lculo en si ser\u00e1 realizado por una regla de negocio, indicando como retorno la funci\u00f3n \n(suma, resta, etc...) que se quiera resolver. \nPasos parametrizaci\u00f3n: ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 31 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n1. En el atributo donde se quiera dejar el resultado se debe definir en el campo funci\u00f3n \nlo siguiente: \nOMSG140E (#NUMERO DE REGLA DE NEGOCIO, RD 1, RD 2,RD 3,\u2026\u2026 RD N,) \n Ejemplo: \n Calculo del Flujo PERSONALES CONSUMO \n \nEn el formulario el atributo tiene definida la siguiente funci\u00f3n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 32 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nDonde 400311 es la regla y los dem\u00e1s son los nombres de la RD a considerar. \n2. Definici\u00f3n de la regla de negocio que tendr\u00e1 como retorno el c\u00e1lculo requerido. \nSiguiendo con el ejemplo, ser\u00e1 la regla 400311.  \nPara la definici\u00f3n de la regla se debe: \n\u25aa Crear como variables la RD a considerar en la funci\u00f3n  \n\u25aa Asegurar que tenga una condici\u00f3n que siempre se vaya a cumplir, ejemplo INSTANCIA \nmayor a 0.  \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 33 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \nPost condicional que ejecuta tx axwfj002. \nPost condicional PXWFJ021 (Anula Transacciones). \n \n2.4.4  Asistentes \n \nLos asistentes son un complemento a los formularios. La necesidad de los asistentes surge \ncuando se quieren pedir demasiados datos. Los asistentes permiten distribuir el pedido de \ndatos en varias p\u00e1ginas y guiar al usuario al ingresar cada grupo de datos. Los asistentes le \nbrindan al usuario un modo guiado de pedir los datos. Los datos se le van solicitando paso a \npaso. Al utilizar asistentes, la solicitud de datos se divide en grupos, por ejemplo, por un lado \nla identificaci\u00f3n del cliente y por otro lado las caracter\u00edsticas del pr\u00e9stamo. De esta forma, el \npedido de informaci\u00f3n se dividir\u00e1 en dos p\u00e1ginas. En una primera p\u00e1gina se le pedir\u00e1 al \nusuario que identifique a la persona y se le mostrar\u00e1n los campos para que ingrese los datos \nde la persona que solici te el pr\u00e9stamo. Cuando termine de ingresar estos datos, el usuario \nselecciona pasar a la siguiente p\u00e1gina y se le muestra la segunda p\u00e1gina con los datos que \ndefinen las caracter\u00edsticas del pr\u00e9stamo. Luego de que ingresan los datos de todas las \np\u00e1ginas se culmina la ejecuci\u00f3n del asistente.  \nLo importante a destacar aqu\u00ed es la forma guiada en que se pide la informaci\u00f3n. El usuario, \nal ingresar la informaci\u00f3n, ver\u00e1 p\u00e1ginas con pocos campos que le dir\u00e1n lo que tiene que \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 34 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \ningresar. Cuando termine de ingresar lo s datos de la primera p\u00e1gina puede pasar a la \nsiguiente p\u00e1gina donde se le pedir\u00e1n otros datos. Se busca evitar as\u00ed que el usuario se sienta \nabrumado porque se le piden demasiados datos juntos. Adem\u00e1s, el asistente lo guiar\u00e1 por \ntodos los pasos que debe se guir para completar el ingreso de la informaci\u00f3n, y evitar as\u00ed \nposibles omisiones del usuario. \nMediante el bot\u00f3n \u2018Asistentes\u2019 (Figura 1) se despliega el siguiente panel:  \n                     \n \nFigura 6 - Asistente de  la Estructura de Mensajes (HMSG300) \n \nAl presionar el boton \u2018Agregar\u2019 (Figura 6), se despliega el siguiente panel: \n \n \nAl crear un asistente se deben definir los siguientes datos: \n\u25aa C\u00f3digo: C\u00f3digo que identifica al asistente. \n\u25aa Nombre: Nombre del asistente. \n\u25aa Comentario: Comentario sobre el asistente; s\u00f3lo tiene fines de documentaci\u00f3n. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 35 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nAdicionalmente, para cada asistente hay que definir las p\u00e1ginas que componen al asistente. \nEs importante realizar una buena distribuci\u00f3n de la informaci\u00f3n entre las p\u00e1ginas y definir el \norden en que se mostrar\u00e1 la informaci\u00f3n. Para definir qu\u00e9 se pide en cada p\u00e1gina se utilizan \nformularios que se asocian a cada p\u00e1gina. Por ejemplo, para implementar un asistente que \npida primero una identificaci\u00f3n del cliente y las cara cter\u00edsticas de pr\u00e9stamo tendremos que \ndefinir un asistente con dos p\u00e1ginas. En la primera p\u00e1gina se tendr\u00eda que asociar un \nformulario que pide la identificaci\u00f3n del cliente, y en la segunda p\u00e1gina otro formulario con \nlos datos del pr\u00e9stamo. \nAl presionar el bot\u00f3n \u2018Paginas\u2019 (Figura 6) se despliega el siguiente panel: \n \nFigura 7 - P\u00e1ginas del Asistente (HMSG301) \n \nPara agregar una p\u00e1gina del asistente se persigan el bot\u00f3n \u2018Agregar\u2019 (Figura 7), se despliega \nel siguiente panel:  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 36 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nPara cada p\u00e1gina de los asistentes se define lo siguiente: \n \n\u25aa Titulo: T\u00edtulo de la p\u00e1gina del asistente. \n\u25aa Tipo: El tipo puede ser: \u201cCon formulario asociado\u201d o \u201cCon PTE asociada\u201d. En el primer \ncaso, se le asocia un formulario a la p\u00e1gina. En el segundo caso, se asocia un programa \nparticular para el manejo de los datos de la p\u00e1gina. Estos programas son llamados PTE \n(P\u00e1gina de Tratamiento Especializado). Estos pueden ser utilizados cuando se necesite \npedir o solicitar alguna clase de informaci\u00f3n que no puede ser resuelta con formularios \npor tener alguna caracter\u00edstica particular. Estos programas deben ser desarrollados \npor el equipo de desarro llo para satisfacer las caracter\u00edsticas particulares de la \nsolicitud o el pedido de informaci\u00f3n. \n\u25aa Formulario asociado : N\u00famero de Formulario o PTE que se asocia a la p \u00e1gina. Ver \ndefinici\u00f3n en 2.4.4.2 \n\u25aa Mapeo?: Si se ejecuta en el salto de p\u00e1gina un mapeo se de be clickear esta opci\u00f3n, \nhabilita el campo para  ingresar el c\u00f3digo de Mapeo y oculta el campo Programa o \nEvento de Salto, ya que el programa que ejecutar\u00e1 de sal to de pagina, ser\u00e1 el \namsg510e. \n\u25aa Expresi\u00f3n para Salto de P\u00e1gina : Para realizar la navegaci\u00f3n co rrecta dentro de los \nasistentes se define una regla de negocios que decida a que p\u00e1gina ir en  caso de \ncumplirse  determinadas condiciones.  \n\u25aa Programa o Evento de Salto : Se permite la parametrizaci\u00f3n, para que ejecute en el \nsalto de p\u00e1gina, de un programa en particular. \n\u25aa \u00daltima P\u00e1gina ?: De tener marcada la opci\u00f3n se tomar\u00e1 la p\u00e1gina como \u00faltima del \nasistente. De esta manera  podr\u00e1n tenerse varias p\u00e1ginas marcadas como '\u00faltima \np\u00e1gina'. Esto puede ser \u00fatil en asistentes que cuenten con secuencias de p\u00e1ginas \nalternativas. \nPor medio de los botones  \u2018Subir\u2019 y \u2018Bajar\u2019 en el panel  \u2018P\u00e1ginas del Asistente \u2019 (HMSG301)  \n(Figura 7) se le da el orden de las p\u00e1ginas dentro del asistente. \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 37 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n2.4.4.1 Propiedades \nSeleccionando una p\u00e1gina y presionando el bot\u00f3n \u2018Propiedades\u2019 (Figura 7), se puede definir \nque un formulario solamente sea de consulta. De esta manera se tiene la funcionalidad de \nun mismo formulario habilitarlo para el ingreso de datos en un momento determinado y para \nsu consulta en forma posteriormente. \nPara ello se debe seleccionar la p\u00e1gina y definir como propiedad SOLOLECTURA, con valor \n\u2018S\u2019. \n \n \n2.4.4.2 Alta P\u00e1ginas de Tratamiento Especializado (PTE)  \n \nMediante la aplicaci\u00f3n Bantotal , inicio\\Men\u00fa de Instalaci\u00f3n de Bantotal \\Flujo de Trabajo \\ \nP\u00e1ginas de Tratamiento Especializado,  se accede al siguiente panel:  \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 38 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nFigura 8 - PTE (Paginas de Tratamiento Especializado) (HPTE001) \nMediante el bot\u00f3n \u2018Agregar\u2019 se despliega el siguiente panel :  \n \n  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 39 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nSe deben definir los siguientes campos: \n\u25aa C\u00f3digo: C\u00f3digo que identifica la PTE. \n\u25aa Nombre: Nombre de la PTE. \n\u25aa Programa: Indicar el nombre del programa. \n \n2.4.5 Llamada Transaccional \n \nMediante el bot\u00f3n \u2018Llamadas Trns.\u2019 (Figura 1)  se accede a la parametrizaci\u00f3n para la \nejecuci\u00f3n de  una transacci\u00f3n determinada dentro del flujo, la misma debe haber sido creada \nen forma previa. Se despliega el siguiente panel: \n \nFigura 9 - Llamadas al Transaccional de Est. De Mensaje (HMSG500) \n \nMediante el bot\u00f3n \u2018Agregar\u2019 (Figura 9), se despliega el siguiente panel: \n \nAl agregar una nueva se solicita: \n\u25aa C\u00f3digo: C\u00f3digo con que se identificar\u00e1 la llamada. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 40 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u25aa Nombre: Nombre que se dar\u00e1 a la llama. \n\u25aa Empresa: C\u00f3digo empresa. \n\u25aa Modulo: Modulo de la transacci\u00f3n. \n\u25aa Transacci\u00f3n: N\u00famero de transacci\u00f3n. \n\u25aa Comentario: Opcional si se quiere indicar alguna observaci\u00f3n, informaci\u00f3n. \nSe asociar\u00e1 dicha llamada a la tarea que corresponda, parametrizando en la metadata de la \nmisma. \nWFTASKATTNAME WFATASKATTVALUE \nLLAMADA CODIGO DE LLAMADA DIFINIDO \nAdicionalmente puede que se requiera grabar el preformato desde valores de RD, con lo cual \nse accede al panel \u2018Correspondencia con Preformato\u2019 mediante el bot\u00f3n \u2018Prefomrato\u2019 (Figura \n9), y se indica la correspondencia de cada campo del preformato que aplique, con la RD. \n \nAl presionar el bot\u00f3n \u2018Agregar\u2019 se despliega el siguiente: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 41 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n2.4.6 Mapeos \n \nSe define el mapeo como la forma  de grabar  o leer  informaci\u00f3n, ejecutar\u00e1n dentro del flujo \nen forma batch. \nExisten dos tipos de mapeo,  el  MAPEO DE GRABADO, donde se graba informaci\u00f3n, por \nejemplo desde  Relevant Data a una tabla espec\u00edfica y MAPEO DE LECTURA,  donde por \nejemplo se lee una tabla determinada y  se graba la informaci\u00f3n  en  RD. Esta lectura se \npuede realizar  por un programa o una sentencia sql. \nSe muestra el panel principal, presionado el  bot\u00f3n \u2018Mapeos\u2019 se despliega el siguiente: \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 42 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nFigura 10 - Trabajar con Mapeos (HMSG513) \n \n2.4.6.1 Mapeo Grabado \n \nMediante el bot\u00f3n \u2018Tablas/Prog.\u2019 (Figura 1) se despliega el siguiente panel:  \n \nFigura 11 - Trabajar con Tablas/Programas (HMSG510) \nMediante el bot\u00f3n \u2018Agregar\u2019 se define  la tabla o el programa que se requiere  mapear, \nindicando:    \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 43 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nSe solicita el registro de los siguientes datos: \n\u25aa Tablas de Mapeos de Datos: C\u00f3digo con que se numerar\u00e1. \n\u25aa Nombre de la tabla a Mapear: Nombre de la Tabla o programa. \n\u25aa Tipo: Se debe indicar el tipo de Mapeo que se est\u00e1 creando a que corresponde si a una \nTabla/ Programa / Postcondicional. \nUna vez definido el mapeo se debe indicar la correspondencia entre los atributos de la tabla \ny la RD. Seleccionando la tabla/ programa creado, se ingresa al bot\u00f3n atributos  y se ingresa \nla definici\u00f3n.  (hmsg511). \nEn caso de que sean tablas, los campos de la vendr\u00e1n cargados misma (parte izquierda del \npanel hmsg511). \nEjemplo: la tabla seleccionada la FSD001, tabla preexistente. \n \nSe grabar\u00e1 informaci\u00f3n en la tabla FSD001 en las categor\u00edas Pepais, Petdoc, Pendoc \n(atributos clave de la tabla) y en Penom (no clave), para ello se utilizar\u00e1n los atributos (RD): \nCLPADOC, CLTDOC, CLNDOC, NOMBRE. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 44 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \nSe solicita el registro de los siguientes datos: \n\u25aa C\u00f3digo de att: Es debe poner el nombre de la categor\u00eda en la tabla. \n\u25aa Nombre del atributo: El atributo deseado.  \n\u25aa Tipo para cuando aplica default: Se especifica qu\u00e9 tipo de informaci\u00f3n se carga, si es \nnum\u00e9rica, de texto o una fecha. \n\u25aa Es clave?: Se debe explicitar en s\u00ed lo que es o no. \n  \n2.4.6.2 Mapeo Lectura \n \nSe debe generar el reporte o programa que levantar\u00e1 los datos. \n  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 45 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n2.4.6.3 Especificaci\u00f3n Tablas A Mapear  \nLa forma es gen\u00e9rica, no importa el tipo de mapeo. \nPara  especificar qu\u00e9 tabla hay que mapear, y bajo qu\u00e9 condiciones,  se accede al panel  \n\u2018Estructuras\u2019 (HMSG001), se presiona el bot\u00f3n  \u2018Mapeos\u2019: \n \nFigura 12 - Trabajar con Mapeos (HMSG513)  \n \nAl presionar \u2018Agregar\u2019 (Figura 12) se despliega el siguiente panel: \n \nEl cual requiere de los siguientes datos: \n\u25aa Mapeo de datos por Estructura: N\u00famero que identifique el proceso de mapeo. \n\u25aa Descripci\u00f3n: Se coloca un t\u00edtulo para el mapeo. \nA continuaci\u00f3n se presiona el bot\u00f3n \u2018Tablas\u2019 en el panel \u2018Trabajar con Mapeos\u2019 (Figura 12): \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 46 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nMediante el  bot\u00f3n \u2018Agregar\u2019 se procede a agregar  la tabla que vamos a querer mapear: \n \nSe debe ingresar: \n\u25aa Correlativo: N\u00famero identificatorio, dentro del mapeo. \n\u25aa Tabla de mapeo de datos :  Se coloca el n\u00famero de  Tablas de mapeo de datos del \nHMSG510. \n\u25aa Expresi\u00f3n para validad si corresponde: Se permite indicar una expresi\u00f3n que el mapeo \nse ejecute en funci\u00f3n de determinadas condiciones. El mapeo se har\u00e1 \u00fanicamente si \nda  verdadera la regla. \n\u25aa Modo de bloqueo: Existen 3 modos distintos: \n\u2022 INX :inserta o hace el update si existe el registro \n\u2022 INS: \u00fanicamente hace el insert del registro \n\u2022 UPD: hace el update del registro \n\u25aa Codigo Reporte: C\u00f3digo de reporte, que se utiliza para levantar los  datos en el mapeo \nde lectura. \n\u25aa Consulta: N\u00famero de consulta del reporte anterior que se est\u00e1 mapeando, si se deja \nen 0 se ejecutan todas las consultas del reporte. \n\u25aa Grilla: Si grabar o leer  tomar datos de una grilla, en este campo se indica el c\u00f3digo que \nse debe leer. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 47 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 48 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n2.4.6.3.1 GXPM  \n \n\u25aa Mapeo grabado: \nEn la  tarea  donde debe ejecutar se debe definir: \nA. Metadata para indicar qu\u00e9 c\u00f3digo de mapeo debe utilizar: \n \nWFTASKATTNAME WFATASKATTVALUE \nMAPEO CODIGO MAPEO MSG513 \nB. Seleccionar la solapa \u201cAdvanced Properties\u201d // Post Condicionts // Post Conditional \nProcedure se debe especificar el siguiente programa \u2018pmsg510p\u2019 (AS/400) - \n\u2018amsg510p\u2019 (SQL Server) \n\u25aa Mapeo Lectura: \nEste mapeo se puede parametrizar de  dos formas: \nA. En el asistente, donde el c\u00f3digo de mapeo definido se indicar\u00e1 en la p\u00e1gina que \ncorresponda, campo \u2019Codigo Mapeo\u2019. \nB. En forma similar a la descrita en MAPEO GRABADO indicando MAPEO y el CODIGO en \nla metadata y  cambiando el  postconditional, en este caso se utilizar\u00e1 \npmsg510pr/amsg510pr. \n \n2.4.6.4 Programas Mapeo Gen\u00e9rico \n \n\u25aa AMSG540 \nEste programa lo que permite es cargar un atributo con informaci\u00f3n guardada en otro atributo \nen RD. \nPara ello se debe definir el programa en la MSG510 \nEn la MSG511 se debe realizar la siguiente parametrizaci\u00f3n: \nDestino - C\u00f3digo de Att - (nombre del atributo) \nOrigen - Nombre del Atributo - (nombre del atributo) \nPor \u00faltimo se incorpora en un mapeo de lectura (AMSG510e), para que se ejecute en el \nmapeo. \n\u25aa AMSG538 ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 49 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nLo que permite este programa es generar en un salto de p\u00e1gina el registro para la persona \nen la tabla XWF701. De esta forma se obtiene todas las instancias en que participa una \npersona. \n \n\u25aa AMSG539 \n\u2022 Paso 1 \nCrear el numerador del cual tomar las operaciones, el mismo deber\u00e1 de ser \nde la FSN999 con empresa igual a la del usuario y sucursal la  principal \n(PGSUC de la FST017). \n \n\u2022 Paso 2 \nCrear en la METADATA un campo que se identifique como TIPONUM, al \nmismo vincularle el tipo de numerador que se desee utilizar. \n \n\u2022 Paso 3 \nSe crea el atributo y se coloca en un formulario de la tarea en donde se \ncoloc\u00f3 la metadata 'TIPONUM        xxx' siendo xxx el numerador definido \nen la columna NGTIPO  de la tabla FSN999. \n \n\u2022 Paso 4: \nSe define el programa en la MSG510. \nEn la MSG511 se realiza la siguiente parametrizaci\u00f3n:  \n \nC\u00f3digo ATT                                                          Nombre del Atributo \nNombre del atributo \ndefinido en paso 3 \nNombre del atributo \ndefinido en paso 3 \nSe coloca en la MSG514  \nIMPORTANTE: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 50 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nPara que el numerador funcione, debe existir previa la ejecuci\u00f3n del programa el atributo \ndefinido en el paso 3 en RD con el valor 0 (cero) \n \n\u25aa AXWF007 - graba RD como retorno de una regla \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 51 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nEste programa permite grabar en RD el resultado de una regla de negocio. \n\u2022 Paso 1 \nSe define como programa de mapeo. \nSe debe definir obligatoriamente el att  EXPSETRD de d\u00f3nde obtendr\u00e1 el c\u00f3digo de la \nregla de negocio que emplear\u00e1. \nSi se quiere que la regla de negocio tome de RD atributos, deber\u00e1n definirse en la \nMSG511. \n \nEjemplo al definir EXPSETRD y la regla de negocio que se llama: \n \nEjemplo al definir RD para pasarle a la regla de negocio: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 52 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n\u2022 Paso 2 \nSe debe definir una regla de negocio \nEn el retorno de la expresi\u00f3n se deber\u00e1 indicar el atributo que grabar\u00e1 y el valor que le \ncolocar\u00e1 separados por un @ \nATTR_1@Valor_1;ATTR_2@Valor_2;...;ATTR_N@Valor_N \n \n\u25aa ASNGDS07 - concatena atributos y los deja en RD \n \nC\u00f3digo de ATT Nombre del Atributo Entrada/Salida \nCONCAT  Nombre del atributo en donde se \ngrabar\u00e1 el Final del formulario  \nS \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 53 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nATT1    Nombre del atributo a concatenar o \nvalor por defalut) E \nATT2         Nombre del atributo a concatenar o \nvalor por default) E \nATT3 ...  \nNombre del atributo a concatenar o \nvalor por default) E \nSe coloca en la MSG514, y el Mapeo se puede ejecutar como mapeo postcondicional o \nmapeo de lectura. \n \n\u25aa AXWf451 - Sustituye la cuenta una vez que es creada en las tablas que corresponda. \n \n \n\u25aa PMSG537 - Graba en el comentario de la tarea la concatenacion de  cuenta / persona \ncomo se muestra a continuaci\u00f3n: \n                       Atributos del mapeo: \n  \n\u2022 CUENTA: n\u00famero de cuenta \n\u2022 NOM1: nombre 1 \n\u2022 NOM2: nombre 2 \n\u2022 NDOC: n\u00famero de documento \n\u2022 OPER: n\u00famero de operaci\u00f3n \n\u2022 TXCUENTA: texto para anteceder la cuenta (valor por defecto: 'CUENTA') \n\u2022 TXNOM: texto para anteceder el nombre (valor por defecto: 'NOMBRE') \n\u2022 TXNDOC: texto para anteceder el n\u00famero de documento (valor por \ndefecto: 'NDOC') \n\u2022 TXOPER: texto para anteceder el n\u00famero de operaci\u00f3n (valor por \ndefecto: 'OPER') \nSi no se parametriza el atributo \u2018OPER\u2019, \u00e9ste no se incluye en el comentario. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 54 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 55 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEl texto en el comentario quedar\u00eda como sigue: \nCUENTA: n\u00famero_cuenta NOMBRE:nombre1 + nombre2 NDOC:n \u00famero_doc \nOPER:n\u00famero_operaci\u00f3n \nEjemplo: \nCUENTA:999999999 NOMBRE:ROJAS BELMONTITO NDOC:77777777 \n \n \n\u25aa Mantener Hist\u00f3rico.  \nPara cada atributo al cual se le marque dicha propiedad generar\u00e1 un registro en la tabla \nXWFH01 y o XWFH02, hist\u00f3rico por workitem. por ejemplo para grabar datos del estilo \nDECISIONES \n \n\u25aa Mantener Hist\u00f3rico en Grilla. \nGraba el dato tambi\u00e9n en una grilla del flujo para poder utilizarla en el mismo, solicitando el \nc\u00f3digo del mismo (que debe existir obviamente). \n \n \n \n2.4.6.5  Poder Asociar al Bot\u00f3n Datos Ing. en el Inbox,  un Asistente Y no un Formulario  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 56 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEsta funcionalidad permite crear una asistente donde se muestra la data m\u00e1s importante de \nla instancia y que la misma quede disponible para cuando la instancia est\u00e1 cerrada. \nLa parametr\u00eda se hace en la tabla WFTask, campo WFTaskCnsHTMLApp, tal como sucede con \nlos formularios, pero para los asistentes deber\u00e1s poner: An\u00famero_de_asistente, por ejemplo, \nsi quieres ejecutar el asistente 10 debes poner A10. \n \n \n2.4.6.5.1 Utilizaci\u00f3n de Reglas de Negocio  \n \n \nACCION RETORNO PARAMETRIZACION CONDICIONES \nValidaci\u00f3n Formulario Mensaje definido por \nusuario \nCuando se cumplan las condiciones parametrizadas se \ndar\u00e1 el mensaje. Por tanto se debe parametrizar qu\u00e9 \ncondiciones se deben cumplir para que se d\u00e9 el error. \nCondicional - Salida Tareas C\u00f3digo de salida hacia cada \ntarea definido en el gxpm \nSe deben parametrizar las condiciones que se  deben \ncumplir para ir hacia cada tarea. \nSalto Pagina  - Navegaci\u00f3n \nasistente \nSe indica en el retorno la \npte o formulario donde ir \n \nValidaci\u00f3n ejecuci\u00f3n de un \nmapeo 1 \nValor  fijo, en este caso se valida la ejecuci\u00f3n de una \nregla o no, solo con el cumplimiento de la misma. Es \nindiferente el retorno \nPropiedad visibilidad \nSe indica separado , si \ncorresponde por ;  el /los \natributos o la categor\u00eda a \nocultar \nSe debe parametrizar las condiciones para que se \nmuestre. Es decir cuando no se cumpla la regla se \nmostrar\u00e1. \nPropiedad Editabilidad \nSe indica separado , si \ncorresponde por ;  el /los \natributos que se deben \nmostrar como editables \nEl atributo se deja como editable y en la regla se pone \nla condici\u00f3n para que no se permita su ingreso. \nResolutor Regla Pae Lo que retorne la regla ser\u00e1 \nel valor a dar a la variable \nSe debe tener en cuenta que por cada variable se debe \ngenerar una regla. \n \n2.4.7 Conexiones \n \nLos objetos de las estructuras de mensajes se asignan a las tareas a trav\u00e9s de conexiones. \nInicialmente se utiliza GeneXus Process Modeler para definir un proceso de negocio. Esta \nvisi\u00f3n constituye la de vista de dise\u00f1o, desde esta vista el objetivo fundamental es definir los \nelementos que constituyen al proceso de negocio y que se debe realizar en cada tarea.  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 57 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nEl siguiente paso es definir c\u00f3mo se debe realizar cada tarea. Esta visi\u00f3n constituye la vista \nde la implementaci\u00f3n. Consiste en definir qu\u00e9 programas se ejecutar\u00e1n al realizar cada tarea. \nEstos programas incluyen los programas que se encargan de evaluar las condiciones, los \nprogramas que se ejecutan en las tareas interactivas y los programas que se ejecu tan al \nejecutar las tareas batch (no interactivas).  \nEstos programas se definen durante el dise\u00f1o de los procesos con GeneXus Process Modeler. \nDentro de las propiedades de cada tarea (o condici\u00f3n) se puede especificar el objeto \nGeneXus que se ejecuta al ej ecutar la tarea (o el programa que se encarga  de evaluar una \ncondici\u00f3n) \nPara las estructuras condicionales tambi\u00e9n es necesario definir un programa que eval\u00fae la \ncondici\u00f3n. Esto tambi\u00e9n hace  desde GeneXus Process Modeler al modificar las propiedades \nde la estructura condici\u00f3n.  \nLas conexiones pueden establecerse a todos los programas GeneXus que tengan una \nestructura particular (ver documentaci\u00f3n de GXFlow para m\u00e1s informaci\u00f3n). Adicionalmente \nse brindan algunos programas para establecer conexiones est\u00e1ndares.  \nLas conexiones est\u00e1ndares para las tareas son: \n \n \n  \nPXWF100 \n  \nOXWFCOND \n \n  \n \n  \nVist \na de  \nImplementaci\u00f3n \n   \nVista de dise\u00f1o \n   ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 58 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \nNombre del \nprograma Descripci\u00f3n de la conexi\u00f3n Propiedades de la conexi\u00f3n \nHXWF100 \nConexi\u00f3n a un formulario de la \nestructura de mensaje asociada al \nproceso \nIdentificaci\u00f3n del formulario al cual \nse establece la conexi\u00f3n \nHXWF300 \nConexi\u00f3n a un asistente de la \nestructura de mensaje asociada al \nproceso \nIdentificaci\u00f3n del asistente al cual \nse establece la conexi\u00f3n \n \n \nLa asociaci\u00f3n entre el formulario, transacci\u00f3n, llamada al simulador y la tarea se realiza \ncreando en la tarea las siguientes \u2018metadata\u2019; \n\u25aa Estructura: Indicar el  valor de la estructura creada \n\u25aa Llamada: aplica a llamadas al transaccional, al simulador o gen\u00e9ricas y se debe asociar \nel   c\u00f3digo de llamada a utilizar. \n\u25aa Conexi\u00f3n: debe tomar los siguientes valores: \n\u2022 F para llamado a un formulario \n\u2022 A para llamado al asistente \n\u25aa Tipo: en el caso en que se ejecute una transacci\u00f3n los valores pueden ser I o B para \nlos casos interactivo o batch. \nLa \u00fanica conexi\u00f3n est\u00e1ndar para las rutas es: \nNombre del \nprograma Descripci\u00f3n de la conexi\u00f3n Propiedades de la conexi\u00f3n \nRXWFCOND Conexi\u00f3n Condicional \nEn la secci\u00f3n 4.2.4.1 se ver\u00e1 con detalle las \npropiedades de esta conexi\u00f3n, y como se \nestablecen las condiciones al utilizar una \nconexi\u00f3n de este tipo. \n \nConexiones para programas post-condicionales (ejecuci\u00f3n previa a completar la tarea) \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 59 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nNombre del \nprograma Descripci\u00f3n de la conexi\u00f3n Propiedades de la conexi\u00f3n \nPXWFJ002 Contabilizaci\u00f3n Batch seg\u00fan lo \nparametrizado en la llamada \nPermite solucionar el llamado a formularios \no asistentes y al transaccional batch en una \nmisma tarea. \n \nProgramas asociados a eventos de GXFlow  \nNombre del \nprograma Descripci\u00f3n de la conexi\u00f3n Propiedades de la conexi\u00f3n \nPXWFJ000 Env\u00edo de Mails por Deadline y \nWarnings \nPermite enviar mails cuando la ejecuci\u00f3n de \nla tarea demora m\u00e1s de lo parametrizado. \nSe asocia un cuerpo HTML que se suplanta \npor los valores en ejecuci\u00f3n y se env\u00eda a \nquien corresponda, con copia al usuario en \nejecuci\u00f3n. \nPXWFJ001 Env\u00edo de Mails cuando se culmina \nuna tarea \nSimilar al caso anterior pero el mail se env\u00eda \nal culminar una tarea. \nPXWFJ003 Carga Distribuida por turno \nAdministra la carga por turno, asignando \ntareas seg\u00fan el turno del usuario y su carga \nde trabajo. \n \n2.4.7.1 Conexi\u00f3n Condicional \n \nEsta conexi\u00f3n se establece en rutas para evaluar condiciones.  \nRecordemos que le llamamos rutas a los caminos que hay entre una tarea y otra. En caso \nque se establezcan varias salidas posibles de una tarea seg\u00fan una condici\u00f3n, se debe \nasignar un programa que se encargue de evaluar qu\u00e9 condiciones se deben cumplir para que \nse siga cada una de las rutas.  \nSiguiendo el ejemplo de la solicitud de pr\u00e9stamos, se debe evaluar si el pr\u00e9stamo est\u00e1 \nautorizado o no para habilitar su retiro. En caso que se autorice el pr\u00e9stamo se pasa al retiro \ndel pr\u00e9stamo, y en caso que no se haya autorizado se vuelve a la solicitud.  \nPara evaluar la condici\u00f3n se debe establecer una conexi\u00f3n condicional en la ruta de la tarea \nAutorizaci\u00f3n para que se encargue de determinar si se autoriz\u00f3 o no el pr\u00e9stamo.  \nPara poder determinar por cual ruta se sale se asocia un c\u00f3digo de condici\u00f3n a cada ruta. \nEsto se hace desde GeneXus Process Modeler. Por ejemplo, podemos definir el c\u00f3digo de \ncondici\u00f3n 1 para la ruta que va a retiro y 2 a la ruta que va a Solicitud. Dentro de la conexi\u00f3n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 60 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \ncondicional podemos definir el c\u00f3digo de condici\u00f3n que se va a seguir seg\u00fan una condici\u00f3n, \npor ejemplo, si el pr\u00e9stamo se autoriz\u00f3 se debe seguir la ruta con el c\u00f3digo de condici\u00f3n 1, y \nen caso que no se autorice el pr\u00e9stamo se debe seguir la ruta con el c\u00f3digo de condici\u00f3n 2.  \nAl utilizar una conexi\u00f3n condicional para evaluar condiciones debemos indicar las \ncondiciones que se deben evaluar para seleccionar cual ser\u00e1 la ruta por la que se saldr\u00e1. \nPara indicar las condiciones, primero se deben definir grupos. \nPara cada grupo se define un conjunto de condiciones y un c\u00f3digo de condici\u00f3n. Cuando se \ntiene que determinar cu\u00e1l es la ruta que seguir\u00e1 el proceso al llegar a una estructura \ncondicional, se eval\u00faan las condiciones indicadas para cada grupo. Cuando se encuentre un \ngrupo que se cumplen todas las condiciones se sigue el proceso por la ruta con el c\u00f3digo de \ncondici\u00f3n que tenga asociado el grupo. \nEn el ejemplo que se viene utilizando. Para el primer grupo (c\u00f3digo de condici\u00f3n 1) le \nindicamos que el pr\u00e9stamo debe estar autorizado (el atributo Autorizado tiene el valor \u2018S\u2019). \nPara el otro grupo (c\u00f3digo de condici\u00f3n 2) le indicamos que el pr\u00e9stamo no debe estar \nautorizado (el atributo Autorizado tiene el valor \u2018N\u2019) \nPara definir las condiciones se asignan atributos de la estructura de mensaje a cada grupo y \npara cada uno de los atributos se indica un rangos de valores (ver Ap\u00e9ndice B para ver el \nformato de los rangos de valores). Los datos de un mensaje cumplen las condiciones de un \ngrupo, si para todos los atributos que aparecen en el grupo el valor que tiene atributo en el \nmensaje est\u00e1 dentro del rango. \nResumiendo, para una conexi\u00f3n condicional se definen grupos con c\u00f3digos de condici\u00f3n y \npara cada grupo se definen atributos con rango de valores.  Los datos de un mensaje est\u00e1n \ndentro de un grupo si para todos los atributos del grupo su valor est\u00e1 dentro del rango \ndefinido para el atributo en el grupo.  \nC\u00f3digo de \ncondici\u00f3n 2 C\u00f3digo de \ncondici\u00f3n 1 ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 61 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEs importante destacar que no necesariamente todos los grupos deben tener c\u00f3digos de \ncondici\u00f3n distintos. Si se quisiera especificar que si el atributo Autorizado es \u201cA\u201d o \u201cB\u201d se siga \nla ruta con c\u00f3digo de condici\u00f3n 1, lo que habr\u00eda que hacer es definir dos grupos con el c\u00f3digo \nde condici\u00f3n 1, en uno de los grupo se define el rango \u201cA\u201d para el atributo Autorizado y para \nel otro grupo se define el rango \u201cB\u201d. \nSe debe tener claro cuando utilizar un \u00fanico grupo para definir una condici\u00f3n o cuando se \ndebe utilizar m\u00e1s de uno. En general, se utiliza un \u00fanico grupo cuando la condici\u00f3n incluye \n\u00fanicamente reglas \u201cy\u201d, por ejemplo, que el importe sea mayor que 1000 y que el valor del \natributo Autorizado sea \u201cS\u201d. Cuando hay reglas \u201co\u201d dentro de la condici\u00f3n, se debe utilizar \nm\u00e1s de un grupo, donde cada grupo eval\u00fae cada una de las posibilidades. Por ejemplo, que \nel importe sea mayor que 1000 o que el valor del atributo Autorizado sea \u201cS\u201d. En caso que \nhaya reglas combinadas de \u201cy\u201d y \u201co\u201d, se deben agrupar todas las reglas \u201cy\u201d y separar las \nreglas \u201co\u201d en grupos distintos. Por ejemplo, si la condici\u00f3n para que se salga por la ruta de \nc\u00f3digo de condici\u00f3n 1 fuera que: (el importe sea mayor que 1000 y que se haya autorizado \nel pr\u00e9stamo) o (que el importe sea menor o igual que 1000). Se deber\u00edan definir dos grupos, \nambos con el c\u00f3digo de condici\u00f3n 1. Para uno de los grupo se  deber\u00eda definir que el rango \n\u201cmayor que 1000\u201d para el atributo Importe y el rango \u201cS\u201d para el atributo Autorizado. En el \notro grupo, se deber\u00eda definir el rango \u201cmenor que 1000\u201d.  \nEn caso que se cumplan las condiciones de m\u00e1s de un grupo, tiene prioridad el primer grupo, \npor lo que, el orden de los grupo tiene relevancia.  \nSe utiliza el programa HRNG400 para definir estas expresiones. Utilizando el GXProcess \nModeler se debe definir la siguiente METADATA en la Tarea anterior al elemento que sirve \npara bifurcar un camino o ruta en el flujo (el que tiene forma de rombo). \nNombre=EXPRESION \nValor=C\u00f3digo de Expresi\u00f3n a Utilizar \nA la expresi\u00f3n que se ejecute se le pasar\u00e1 como datos de entrada:  \n\u25aa PROCESO \n\u25aa INSTANCIA \n\u25aa WORKITEM  \n\u25aa EMPRESA \n\u25aa USUARIO \n\u25aa ATRIBUTOS RELEVANT DATA (que participen de condiciones en la Expresi\u00f3n) \nEl valor de retorno de la Expresi\u00f3n se usar\u00e1 para decidir qu\u00e9 camino tomar en flujo a \ncontinuaci\u00f3n del bifurcador. \n \n2.4.7.2 Previsualizaciones y consultas \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 62 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nAntes de tomar una tarea un usuario pudiera desear ver alguna informaci\u00f3n de la tarea para \nsaber si el usuario est\u00e1 capacitado para realizarla. GXFlow brinda la capacidad de asignar un \nprograma para resolver la previsualizaci\u00f3n de una tarea. Estos programas son ejecutados \ncuando se presiona en el icono de previsualizaci\u00f3n de la tarea. \nSimilar situaci\u00f3n sucede con la consulta donde se parametriza el programa que permite al \nusuario que est\u00e1 ejecutando la tarea consultar los datos que ha ingresado. \nPara facilitar la creaci\u00f3n de previsualizaciones y consultas, la b andeja de entrada lee un \nn\u00famero de formulario de estos par\u00e1metros y llama al mismo en modalidad solo lectura. \nEn el caso de \u00edtems de workflow cerrados estos botones operan, pero en el caso en que se \nquiera llamar a otro formulario cuando el \u00edtem est\u00e1 cerrado, se deber\u00e1 asociar a la tarea en \nla metadata 'CONS_HIST_F' el n\u00famero de formulario a mostrar. \n2.4.8 Eventos Deadline y Warning \nEn las tareas se puede parametrizar un tiempo para que d\u00e9 un aviso y otro para que se \nculmine, en el caso en que no se termina la tarea antes del tiempo parametrizado para aviso, \nse produce el evento Warning. Si no se culmina antes del deadline, se dispara un evento \ndeadline. Para que quede historia y se ejecuten los programas asociados al evento se debe \nconfigurar GXFlow para que dispare este evento (ver la documentaci\u00f3n de GXFlow de Artech). \n \n \n2.4.8.1 Env\u00edos de Mail de aviso \nSi se desea enviar mail de aviso a usuarios determinados cuando se dispara alguno de estos \neventos, ser\u00e1 necesario: \n1) Lo primero que se debe hacer es parametrizar el servidor de env\u00edo de mails, para ello \nse debe acceder al panel HXWFD001, seleccionar el proceso con el cual se desea \ntrabajar y por \u00faltimo presionar el bot\u00f3n \u2018Parm.Env.Mail\u2019. \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 63 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nFigura 13  - Trabajar con procesos (HXWFD001) \n \n \n \nEstos datos se graban en la tabla xwfv02, para el c\u00f3digo de estru ctura de mensaje \nseleccionado.  \n2)  A continuaci\u00f3n se debe indicar en qu\u00e9 tarea se har\u00e1 el env\u00edo del mail, para ello se \ndebe seleccionar el proceso y presionar el bot\u00f3n Tareas. \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 64 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \nSe selecciona la tarea y se presiona el bot\u00f3n \u2018Param.Mail\u2019 \n \n \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 65 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nSe debe seleccionar una opci\u00f3n de env\u00edo de mail. \n \nLos comandos NEW, ASSIGN, EXECUTE, COMPLETE, DEADLINE y WARNING hacen referencia \na distintos estados que puede tener la tarea en los cuales puede ser enviado un mail. \nNEW  Cuando se crea la tarea \nASSIGN  Cuando la tarea es asignada a un usuario \nEXECUTE Cuando la tarea es ejecutada \nCOMPLETE Cuando la tarea es completada \nDEADLINE Cuando ocurre un deadline \nWARNING Cuando ocurre un warning \n \nLos comandos MAILTO, ROLE, USER y HTML  indica distintas caracter\u00edsticas en el env\u00edo de \nmail. \n \nMAILTO  Lista de mails separadas por comas o dos puntos seguidos del nombre del \nprograma encargado de resolver cu\u00e1les son los destinatarios en tiempo de \nejecuci\u00f3n \nROLE  Nombre exacto del rol del cual se quieren obtener las direcciones o vac\u00edo para \ntodos los roles de la tarea \nUSER Id de usuario al cual se le quiere enviar o vac\u00edo para que se use el usuario que \ntiene asignado la tarea \nHTML Nombre del archivo. \n \nSe selecciona una opci\u00f3n y se debe presionar el bot\u00f3n \u2018Agregar\u2019, por \u00faltimo el bot\u00f3n \n\u2018Volver\u2019. \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 66 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \nYa se ha seleccionado el evento con el cu\u00e1l se enviar\u00e1 el correo, ahora falta indicarle en el \ncampo valor el destinatario del mensaje, seleccionando la opci\u00f3n y presionando el bot\u00f3n \nEditar Valores. \n \n \n \nEsta acci\u00f3n nos habilita el campo valor para indicarle las opciones. \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 67 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u25aa Se especifica las direcciones de mails a las que debe enviarse el mensaje cuando se \nproduce el evento correspondiente. Es decir que  mediante esta opci\u00f3n se tiene una \nlista \u201cfija\u201d de direcciones de mails a las cuales se env\u00eda el mensaje cada vez qu e \nsucede el evento en cuesti\u00f3n. \n\u25aa Se especifica en la metadata de la tarea un programa encargado de resolver cu\u00e1les \nson los destinatarios del mensaje en tiempo de ejecuci\u00f3n. Debe indicarse dos puntos \nseguidos del nombre del programa encargado de la resoluci\u00f3n. \n \nAl momento se tienen los siguientes programas desarrollados para la resoluci\u00f3n de los \ndestinatarios:  \nPrograma Comportamiento  \nAXWFJ009 \nPermite decidir obtener la direcci\u00f3n de mail eligiendo entre un \nusuario particular, un rol particular o todos los roles de la \ntarea  \nAXWFJ011 \nPermite enviar un correo electr\u00f3nico a una direcci\u00f3n que se \nencuentra en RD \nLas opciones del programa AXWFJ009 son:  \na) El programa sin ninguna parametrizaci\u00f3n elige como destinatarios a todos los \nusuarios de todos los roles de la tarea objetivo del evento.  \n \n \n \nb) Parametrizando un rol espec\u00edfico se tomar\u00e1n las direcciones de todos los usuarios \ndel rol. Si no se indica ning\u00fan rol, se enviar\u00e1 a todos los roles de la tarea. \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 68 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n \nc) Parametrizando en la tarea correspondiente un usuario que tiene la direcci\u00f3n de  mail \na enviar, de la misma manera se puede dejar el campo vac\u00edo significando  que se \nenviar\u00e1 el mail al usuario que tenga actualmente la tarea asignada. \n \n \nEl programa permite elegir un rol al mismo tiempo que un usuario.  Por ejemplo, pa ra la \nsiguiente configuraci\u00f3n:  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 69 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 70 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEnviar\u00e1 un mail a todos los usuarios del rol \u201cAnalista de proceso\u201d y, adem\u00e1s al usuario \nque tiene asignada la tarea.  \nTambi\u00e9n se puede utilizar el programa AXWFJ011, dicho programa permite enviar un correo, \ncuya direcci\u00f3n ser\u00e1 tomada de un atributo en RD. \nPara ello se deber\u00e1 definir el programa en el evento deseado, y se deber\u00e1 definir la metadata \nMAIL la cual tendr\u00e1 en su campo valor, el nombre de la RD en d\u00f3nde se encontrar\u00e1 la \ndirecci\u00f3n de correo destinataria. \n \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 71 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \nA. \u00bfCon qu\u00e9 formato y con qu\u00e9 contenido se arma el mensaje?  \nTenemos dos opciones:  \n\u25aa Se tiene un formato y contenido por defecto.  \n\u25aa A su vez se puede establecer un formato y contenido particular.  \nComportamiento por defecto: \nSe env\u00eda un mail con el siguiente texto, tanto en el cuerpo del mensaje como en el asunto:  \nLa tarea nombre de la tarea del proceso nombre del proceso ha sido acci\u00f3n  \nLas frases en color se sustituyen en tiempo de ejecuci\u00f3n por lo que corresponda.  \nEjemplo: La tarea Registrar y Validar Saldo del proceso Aplicaciones_M\u00f3viles ha sido iniciada.  \nFormato y contenido particular: \nMediante esta opci\u00f3n se podr\u00e1 establecer un formato y contenido particular para cada evento \nde los que figuran a continuaci\u00f3n para la tarea sobre la que se est\u00e1 trabajando.  \nPara ello se debe especificar en la tarea la palabra clave acorde al evento para el cual se \nquiere enviar el mail (ejemplo NEW_HTML) y como valor para la misma el nombre del archivo \ndonde se defini\u00f3 el contenido y formato del mail (ejemplo NEW.htm).  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 72 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n\u00bfD\u00f3nde debe guardarse el archivo?  \nEl archivo debe estar ubicado en el servidor de aplicaciones, en la carpeta  \n\u2026\\webapps\\bantotal\\Plantillas HTML  \nSi se est\u00e1 usando el demonio Java-Win generador de instancias (Pbrw001), deber\u00e1  crearse \nla carpeta Plantillas HTML en la misma carpeta donde e st\u00e1 ubicado el bat del demonio y \ndeber\u00e1 ubicarse el archivo del contenido del mail en la carpeta Plantillas  HTML.  \nAdicionalmente deber\u00e1 agregarse la ruta donde est\u00e1n ubicadas las clases de env\u00edo de mails \nde workflow, al classpath del demonio. Para ello, abrir el bat del demonio con un editor de \ntexto y agregar la ruta correspondiente al classpath separada por punto y coma con las rutas \nque ya ten\u00eda.  \nEjemplo: si las mismas est\u00e1n en la siguiente ruta C:\\Prueba\\jakarta-tomcat5.5.7\\ \nwebapps\\bantotal\\WEB-INF\\classes\\ quedar\u00eda el clathpath de la siguiente manera:  \nset CLASSPATH=.;gxclassr.zip;jt400Ver51. \njar;ClasesDemonio.zip;C:\\Prueba\\jakarta-tomcat5.5.7\\ \nwebapps\\bantotal\\WEB-INF\\classes\\  \nIndependientemente de la extensi\u00f3n del archivo, ser\u00e1 considerado como un archivo html.  \nSi en la metadata de la tarea se indic\u00f3 un archivo que no figura en la carpeta \n\u2026\\webapps\\bantotal\\Plantillas HTML del servidor de aplicaciones, figurar\u00e1 el siguiente  \nmensaje de error como contenido del mail:  \nError al leer el archivo ( -2)Ruta: \n C:\\Prueba\\jakarta-tomcat-5.5.7\\webapps\\bantotal\\Plantillas HTML \\Textomail.cfg  \n  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 73 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n2.4.8.2 Archivo de configuraci\u00f3n del HTML \n \nSi se desea contenido o formato particular para el mail deber\u00e1 utilizarse un archivo como \nvimos en el punto anterior El mismo ser\u00e1 interpretado como un html.  \nSe distinguen dos zonas en el mismo, una para indicar el asunto y otra para indicar el cuerpo \ndel mensaje.  \nA. Asunto del mail  \nEs el texto contenido entre <!--SUBJECT: y -->  \nEjemplo: si tenemos dentro del archivo de contenido del mail la siguiente frase:  \n<!--SUBJECT: Se ha generado autom\u00e1ticamente la instancia wf_inst_id de la tarea wf_task --\n>, se asignar\u00e1 como asunto del mail lo siguiente: Se ha generado autom\u00e1ticamente la \ninstancia 2805 de la tarea Revisi\u00f3n Traslado de Beneficiarios.  \n \nHay otra forma de poner el asunto del mail, en la metadata, de la forma NEW_SUBJECT, es \ndecir el evento_SUBJECT. (De esta forma no existen problemas en poner le tildes al subject \ndel mail). \nAqu\u00ed se utilizaron palabras reservadas para obtener el n\u00famero de instancia y el nombre de la \ntarea, que se ver\u00e1n a continuaci\u00f3n. En el ejemplo tenemos como n\u00famero de instancia 2805 \ny como nombre de tarea: Revisi\u00f3n Traslado de Beneficiarios.  \nB. Contenido del mail  \nEs el resto del texto del archivo.  \nSe puede utilizar palabras reservadas que se reemplazar\u00e1n en tiempo de ejecuci\u00f3n por  el \nvalor correspondiente.  \n\u25aa wf_task = nombre de la tarea en ejecuci\u00f3n. \n\u25aa wf_process = nombre del proceso en ejecuci\u00f3n.  \n\u25aa wf_username = nombre del usuario de GXFlow que est\u00e1 a cargo de la tarea.  \n\u25aa wf_event= alguno de los siguientes valores seg\u00fan corresponda: \u2018tarea completada\u2019, \n\u2018tarea iniciada\u2019, \u2019tarea ejecutada\u2019,\u2019tarea asignada.\u2019  \n\u25aa wf_inst_creator= nombre del usuario que inici\u00f3 la instancia de proceso.   \n\u25aa  wf_inst_comments= comentarios de la instancia de proceso (el mismo que aparece \nen la columna del Inbox en caso de que se haya ingresado.  \n\u25aa wf_inst_subject = asunto de la instancia de proceso (el mismo que aparece en el inbox \nen caso de que se haya ingresado).  \n\u25aa wf_inst_created = fecha de creaci\u00f3n de la instancia de proceso.   ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 74 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u25aa wf_item_comments = comentarios de la tarea (estos no se pueden agregar desde el \ninbox, por lo general est\u00e1n vac\u00edos).  \n\u25aa wf_item_created = fecha de creaci\u00f3n de la tarea.   \n\u25aa wf_item_ended = fecha de culminaci\u00f3n de la tarea (fecha 1/1/00 si todav\u00eda no \ntermin\u00f3).   \n\u25aa wf_item_priority = Prioridad de la tarea.   \n\u25aa Wf_inst_id = Nro de instancia.  \nSe pueden utilizar valores cargados en la relevant data. Para ello se trabajar\u00e1 de forma \nsimilar a las palabras reservadas que se vier on anteriormente. Todas las palabras \ncorrespondientes a valores de la relevant data deber\u00e1n comenzar con rev_data y luego el \nnombre del atributo de la relevant data.  \n revdata_XXXX, donde XXXX es el nombre del atributo de la relevant data.  \nSe pueden asociar grids.  \nSe pueden asociar resultados de sentencias sql espec\u00edficas (ver Generador de reportes SQL).  \nEl contenido del mail no debe superar los 1999 caracteres.  \nA continuaci\u00f3n  se presentan algunos tags html b\u00e1sicos. Tener en cuenta que se pueden \nutilizar editores html para facilitar la tarea.  \nSalto de l\u00ednea: <br>  \nNegritas: <b> Frase que se quiere resaltar en negritas </b>  \nSubrayado <u>Texto</u>  \nP\u00e1rrafo: <p> Contenido del P\u00e1rrafo </p>  \nVi\u00f1etas: <li> Texto </li>  \nColor Azul: <font color=\"#0000FF\"> Texto </font>  \nOtros colores:  \n#800000 rojo oscuro  \n#FF0000 rojo  \n#808080 gris  \nMANEJO DE ERRORES  \nComo este procedimiento se ejecuta entre cambios de estado de tareas los errores aparecen  \nen la tabla WFDebug.  \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 75 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n2.5 \u00bfC\u00f3mo Usar los Formularios para Maximizar su Productividad?  \n \n2.5.1 Atributo Especial: DES_CATEG \n \nPara utilizar las categor\u00edas en sus formularios Ud. simplemente debe definir un nuevo \natributo, al cual le indicar\u00e1 que \u201cRepresenta\u201d  una Categor\u00eda. \nEl dise\u00f1ador autom\u00e1ticamente le asignar\u00e1 el nombre, el cual ser\u00e1 DES_CATEGx, siendo x un \ncorrelativo.  \nNo debe configurar m\u00e1s propiedades para este tipo de atributos, si lo hace simplemente son \nignoradas.  \nAhora por ejemplo disp onemos del atributo DES_CATEG1 en nuestra lista de atributos, \nsiempre dentro de una estructura de mensaje. \nLuego al definir el Formulario se agrega como un atributo cualquiera, y se carga en la \npropiedad \u201cValor por Defecto\u201d  el texto que se desee mostrar como t\u00edtulo. \nEl mismo atributo DES_CATEG1 puede utilizarse en distintos form ularios con t\u00edtulos \ndiferentes. \nSin embargo el mismo atributo DES_CATEG1 no puede utilizarse m\u00e1s de una vez en el mismo \nFormulario, por lo cual para parametrizar el ejemplo superior fue necesario d efinir dos \natributos DES_CATEG. \nPor lo tanto, podemos concluir que debemos definir tantos atributos DE S_CATEG en una \nestructura de mensaje, como los que necesito para parametrizar la mayor de las p\u00e1ginas de \nmi proceso de negocio. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 76 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n2.5.2  Atributo especial: DES_BTN \n \nPara utilizar los botones en sus formularios Ud. simplemente debe definir un nuevo atributo, \nal cual le indicar\u00e1 que \u201cRepresenta\u201d  un Bot\u00f3n. \nEl dise\u00f1ador autom\u00e1ticamente le asignar\u00e1 el nombre, el cual ser\u00e1 DES_BTNX, siendo x un \ncorrelativo.  \nNo debe configurar m\u00e1s propiedades para este tipo de atributos, si lo hace simplemente son \nignoradas.  \nAhora por ejemplo disponemos del atributo DES_BTN1 en nuestra lista de atributos, siempre \ndentro de una estructura de mensaje. \nLuego al definir el Formulario se agrega como un atributo cualquiera, y se carga en la \npropiedad \u201cValor por Defecto\u201d  el texto que se desee mostrar como t\u00edtulo. \nEl mismo atributo DES_BTN1 puede utilizarse en distintos formularios con t\u00edtulos diferentes. \nSin embargo el mismo atributo DES_BTN1 no puede utilizarse m\u00e1s de una vez en el mismo \nFormulario. \nSe pueden parametrizar en esto botones los llamados a: \nA. Formularios: cuando lo que se va a acceder es a un formulario , se debe ingresar en \nCarga Autom\u00e1tica:  \n\u25aa Tipo Carga : Programa \n\u25aa Nombre de Pgm: N\u00famero de Formulario a mostrar. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 77 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nValidaci\u00f3n:  \n\u25aa Tipo Carga: Programa \n\u25aa Nombre de Pgm: F \n \nB. Asistentes, cuando se va a acceder a un asistente, se debe ingresar en forma an\u00e1loga \nal formulario, lo siguiente: \n             Carga Autom\u00e1tica:  \n\u25aa Tipo Carga: Programa \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 78 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u25aa Nombre de Pgm: N\u00famero de Asistente  a mostrar. \n           Validaci\u00f3n:  \n\u25aa Tipo Carga: Programa \n\u25aa Nombre de Pgm:  A \nSe ha implementado la posibilidad de llamar en un mismo bot\u00f3n un determinado formulario \nu otro, as\u00ed como a un asistente u a otro, dependiendo de alguna caracter\u00edstica. Por ejemplo \nllamar un formulario si es trabajador y otro for mulario si es jubilado. Esta caracter\u00edstica es \nevaluada por la expresi\u00f3n que se indica y el retorno de la misma so n los formularios que \nmostrar\u00e1. \nLa parametrizaci\u00f3n de esta funcionalidad es la siguiente: \n\u25aa En el campo \u2018Nombre de Pgm\u2019 en la secci\u00f3n de \u2018 Carga autom\u00e1tica\u2019, indicar un c\u00f3digo \nde expresi\u00f3n. \n\u25aa  En el campo \u2018Nombre de Pgm\u2019 en la secci\u00f3n de \u2018Validaci\u00f3n\u2019, indicar lo siguiente:    \n\u2022 \u2018EF\u2019, en el caso de que la expresi\u00f3n anteriormente indicada devuelva un c\u00f3digo de \nformulario  \n\u2022 \u2018EA\u2019 en caso de que la expresi\u00f3n devuelva un c\u00f3digo de asistente.  \n\u2022  \nAl momento de presionar el bot\u00f3n, se evaluar\u00e1 la expresi\u00f3n indicada y se desplegar\u00e1 el \nformulario/asistente cuyo c\u00f3digo se haya obtenido de la evaluaci\u00f3n.  \nA. Paneles definidos por programa, en este caso se llama a un panel determinado por \nun programa y \u00fanicamente se debe indicar en  \n               Carga Autom\u00e1tica:  \n\u25aa Tipo Carga : Programa \n\u25aa Nombre de Pgm:  Nombre del Programa ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 79 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n2.5.3 Cargas Autom\u00e1ticas de Atributos \n \nUn punto cr\u00edtico al generar Formularios Web parametrizables es todo lo que refiere al manejo \nde los datos. \nLos formularios deben interactuar fuertemente con la base de datos a fin de que realmente \nsean \u00fatiles.  De lo contrario estar\u00e1n resolviendo tal vez la programaci\u00f3n de la p\u00e1gina, pero \nno la obtenci\u00f3n de los datos que debo mostrar. \nEs por ello que hemos implementado dos alternativas posibles para que Ud. pueda \ninteractuar con su base de datos en sus formularios. \nLa primera consiste en parametrizar a nivel del Atributo, o del Formulario, el nombre del \nprograma que retornar\u00e1 el dato esperado. \nM\u00e1s adelante en la secci\u00f3n Eventos (2.5.7) detallaremos como implementar un programa de \neste tipo. \nCon esta alternativa podemos cargar un EditBox, un ComboBox o inclusive una Grilla. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 80 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEsta es una buena alternativa pues Ud. deber\u00e1 preocuparse simplemente, de realizar un \nprograma que en la mayor\u00eda de los casos ser\u00e1 sencillo, para resol ver la obtenci\u00f3n de los \ndatos.  \nLa segunda alternativa es un poco m\u00e1s ambiciosa, y pretende evitarle tener que hacer ese \nprograma de obtenci\u00f3n de datos, y en su lugar simplemente definir una sentencia SQL. \nPara ello estamos interactuando con una herramienta llamada \u201cGenerador de Reportes\u201d. \nLa misma permite definir consultas SQL, de forma c\u00f3moda para el usuario. \nVer documento que trata la definici\u00f3n de las sentencias en el Generador. \nLo importante a destacar en esta etapa es que Ud. podr\u00e1 cargar un ComboBox simplemente \ndefiniendo una sentencia como esta: \n SELECT Panom, Pais FROM fst013 ORDER BY Panom \nDe forma m\u00e1s gen\u00e9rica para cargar un Combo desde una tabla b\u00e1sica t\u00edpica, conformada por \n\u201cC\u00f3digo, Descripci\u00f3n\u201d la sentencia ser\u00eda: \n SELECT Descripci\u00f3n, C\u00f3digo FROM tabla ORDER BY Descripci\u00f3n \nPara cargar un EditBox la sentencia gen\u00e9rica ser\u00eda: \n SELECT Campo FROM tabla WHERE condici\u00f3n \nEs importante destacar que esta sentencia deber\u00eda retornar un solo registro. En el caso en \nque retornara m\u00e1s de uno solamente se tomar\u00e1 el primero. \nSi bien no hemos entrado en detalle sobre las Grillas en esta etapa podemos mencionar que \nuna grilla puede cargarse de la siguiente forma: \n SELECT Campo1, Campo2,\u2026, CampoN FROM tabla WHERE condici\u00f3n \nLos atributos seleccionados ser\u00e1n las columnas de la grilla, y los registros devue ltos por la \nconsulta las filas. \nPar\u00e1metros en Sentencias SQL: \nPara potenciar a\u00fan m\u00e1s estas sentencias Ud. podr\u00e1 pasarles par\u00e1metros.  \nEsos par\u00e1metros ser\u00e1n otros atributos de la Relevant Data, pero deber\u00e1n tener valor cargado \npreviamente a la ejecuci\u00f3n de la p\u00e1gina donde ejecuta la Sentencia. \nLa Relevant Data se graba cuando se presiona \u201cGuardar y Cerrar\u201d \u00f3 \u201cAceptar\u201d en un \nFormulario. Adicionalmente si se trata de un asistente sucede lo mismo al pres ionar \n\u201cSiguiente\u201d o \u201cAnterior\u201d. \nEsto hace posible por ejemplo ped irle al usuario un n\u00famero de Cuenta Bantotal en una \np\u00e1gina, y posteriormente en otra mostrar una Grilla con los domicilios de ese cliente. \nMomento de ejecuci\u00f3n de la carga autom\u00e1tica: ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 81 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nCon excepci\u00f3n de los atributos ComboBox, la carga autom\u00e1tica del resto de los atributos se \nejecuta siempre que el atributo no tenga valor en la Relevant Data, al cargar la p\u00e1gina. \nPara el caso de los ComboBox la carga se realiza cada vez que se carga la p\u00e1gina. \nPero esto no es suficiente, por lo cual a continuaci\u00f3n anal izaremos los atributos \ndeterminantes y sus usos. \n \n2.5.4 Atributos Determinantes \n \nSe encuentran a nivel de la definici\u00f3n de Atributos -como ya hemos visto - \u00f3 de C\u00f3digo de \nGrilla como veremos m\u00e1s adelante. \nUn atributo A es determinante de un atributo B, cuando el valor de B se expresa en funci\u00f3n \nde A. Es decir que ante un cambio del valor de A, B debe cambiar. \nEl atributo A y el atributo B deben estar en p\u00e1ginas distintas. \nVeamos su utilidad. \n\u00bfQu\u00e9 sucede si tenemos un flujo con esta forma? \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 82 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nEn la imagen superior se identifica un ciclo en el flujo con un recuadro rojo.  \nEs decir que podr\u00eda pasarse dos veces por la misma secuencia de tareas.  \nTambi\u00e9n sucede lo mismo con un caso m\u00e1s simple que es un asistente,  donde el usuario  \np\u00e1gina hacia adelante y atr\u00e1s. \nEjemplo del problema que resuelven los atributos determinantes: \nEn la p\u00e1gina uno solicito al usuario el nro de cuenta (fsd008.ctnro) y lo a lmaceno en un \natributo CUENTA.- \nEn la p\u00e1gina dos cargo mediante una sentencia SQL el ejecutivo de esa CUENTA en el atributo \nEJEC.- \nHasta ac\u00e1 esto funciona sin atributos determinantes. \n\u00bfPero qu\u00e9 pasa si vuelvo atr\u00e1s y cambio la cuenta ingresada? \nEn el caso en que CUENTA no est\u00e9 definido como Determinante de EJEC, el ejecuti vo que \ntenemos almacenado no cambia. \nEsto es porque las cargas autom\u00e1ticas (ya sean por programa o sentencia) se ejecutan \nSOLAMENTE cuando el atributo est\u00e1 vac\u00edo, o cuando un Atributo Determinante Cambia. \nSi est\u00e1 definida la relaci\u00f3n entre ambos atributos, sucedi\u00f3 que al grabar EJEC en la Relevant \nData la primera vez, el dise\u00f1ador tambi\u00e9n guard\u00f3 el valor de CUENTA que ten\u00eda cargado en \nese momento en la RD, como una \"Instancia del Atributo Determinante\". \nLuego volvimos atr\u00e1s, cambiamos el valor de cuenta, y cuando cargamos la p\u00e1gina dos \nnuevamente, el Dise\u00f1ador compara el valor actual de Cuenta con el valor de la instancia \nalmacenado, y si son distintos ejecuta la carga autom\u00e1tica nuevamente. \nAclaraci\u00f3n: \nPueden tenerse n atributos determinantes A para el atributo B. \nDe esta manera podr\u00edamos tener un atributo Saldo expresado en funci\u00f3n de una clave \ncompleta del FSD011, donde cada uno de los atributos de la clave est\u00e1 definido como \ndeterminante del Saldo. \n \n2.5.5 Validaci\u00f3n Autom\u00e1tica \n \nComo ya habr\u00e1n visto en p\u00e1ginas anteriores, en la versi\u00f3n uno se dispon\u00eda de la validaci\u00f3n \nde Atributos seg\u00fan el Rango que se le hab\u00eda definido al mismo. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 83 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nActualmente puede definirse para cada Atributo un programa de Validaci\u00f3n, o una sentencia \nSQL, en forma an\u00e1loga a la carga autom\u00e1tica. \nLa validaci\u00f3n puede definirse a nivel de Atributo o de Formulario, y en el segundo caso puede \nparametrizarse un mensaje de error. \nPara el caso de la sentencia SQL, la misma debe retornar un solo valor. \nSi el valor retornado es 1 el resultado es TRUE, y la validaci\u00f3n se toma como satisfactoria. \nPor el contrario si el resultado es distinto de 1 se considera FALSE y el atributo no pasar\u00e1 la \nvalidaci\u00f3n despleg\u00e1ndose el mensaje correspondiente, seg\u00fan la jera rqu\u00eda de mensajes ya \nexplicada. \nPor ejemplo para validar si un c\u00f3digo de Pa\u00eds ingresado es correcto alcanza con parametrizar \nla siguiente sentencia \nSELECT count(*) FROM fst013 WHERE PAIS = @1 \n@1 se habr\u00e1 definido previamente como un par\u00e1metro de la sentencia que corresponde al \natributo que qu eremos validar en la Relevant Data. Ver documento sobre Definici\u00f3n de \nsentencias. \nPara ver c\u00f3mo definir programas para todos los casos que se mencionan se deber \u00e1 ver la \nsecci\u00f3n 2.5.7 Eventos. \n \n \n2.5.6 Grillas \n \nEn la versi\u00f3n actual el Dise\u00f1ador de Formularios soporta Grillas. \nLas mismas poseen botones para realizar el ABM de los registros de las mismas.  \nEl Dise\u00f1ador tambi\u00e9n permite trabajar con grillas de s\u00f3lo lectura, ya que los botones \nresponden a cierta parametrizaci\u00f3n que analizaremos m\u00e1s adelante, mediante la cual \npodr\u00edan ocultarse los mismos. \n \n2.5.6.1 C\u00f3digo de Grilla \n \nLo primero que debemos definir para trabajar con Grillas es un C\u00f3digo de Grilla. \nEste c\u00f3digo tiene como objetivo identificar un conjunto de datos relacionados, en concreto \nlas columnas que s e definir\u00e1n para la grilla (atributos de la Relevant Data), y las filas \n(registros que se ingresar\u00e1n en la grilla). ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 84 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nLa definici\u00f3n es muy simple, se carga obligatoriamente un c\u00f3digo y una descripci\u00f3n. \nY opcionalmente se definen los atributos Determinantes, de modo similar que para un \natributo com\u00fan, as\u00ed como los Atributos Clave. \nEl Atributo Clave la funci\u00f3n que cumple es controlar que no existan dos registros en la grilla \nque tengan el mismo valor en los atributos definidos como CLAVE. \n \nEn ambos casos se debe simplemente asociar de los atributos dados de alta cuales con \ndeterminantes y / o claves. \nRecordar que el atributo determinante tendr\u00e1 sentido solamente si para las futuras vistas de \nesta Grilla (veremos que las llamamos Formularios de ABM) se va a  parametrizar Carga \nAutom\u00e1tica. \nEs importante notar que hasta ahora no hemos definido cuales son las columnas de la grilla, \nsino que simplemente hemos definido un C\u00f3digo identificador de la misma, y sus Atributos \nDeterminantes, es decir una lista de atributos tales que, si el valor de alguno de ellos cambia, \ndebe ejecutarse nuevamente la carga autom\u00e1tica de la grilla, borrando los datos anteriores. \n \n \n \n2.5.6.2 Atributo Especial: DES_GRID \nUtilizaremos el atributo DES_GRIDx (donde x es un correlativo asignado por el sistema) para \npoder colocar vistas de una Grilla en un formulario. \nDefinir el atributo DES_GRID: \nSimplemente seleccionar en el ComboBox \u201cRepresenta\u201d el valor \u201cGrid\u201d. Opcionalmente \npodr\u00eda definirse Carga y/o Validaci\u00f3n Autom\u00e1tica a este nivel: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 85 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nAgregar el atributo al Formulario  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 86 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nAgregamos el atributo al Formulario en el cual deseamos tener la vista del Grid. \nPodremos paramertizarle a nivel de Formulario Cargas autom\u00e1ticas y Validaci\u00f3n. \nAdicionalmente debemos parametrizar dos  propiedades particulares de este tipo de \natributos, \u201cGrid\u201d y \u201cFormulario de ABM\u201d. \n\u201cGrid\u201d corresponde con el c\u00f3digo que hemos definido en el punto 2.5.6.1. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 87 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u201cFormulario de ABM\u201d  es un ComboBox que presenta todos los Formularios definidos p ara \nesta Estructura de Mensaje. \nLa grilla que veremos en el Formulario Web depender\u00e1 exclusivamente del F ormulario de \nABM que asociemos. \nExiste la posibilidad de eue un atributo definido en el formulario no parezca en la grilla, para \neso dejo sin marcar la propiedad \u2018Mostrar en Grid\u2019 \nSi bien no lo mostramos en la grilla, el atributo queda almacenado como una columna m\u00e1s \nde la misma, y podr\u00eda ser utilizado en otra p\u00e1gina del flujo, simplemente utilizando otro \nFormulario de ABM id\u00e9ntico al actual, pero con la propiedad \u201cMostrar en Grid\u201d marcada.  \nLos conceptos fundamentales que intentamos transmitir son los siguientes: \n\u25aa El c\u00f3digo de Grilla es simplemente un Identificador que permitir\u00e1 agrupar columnas y \nfilas para generar una gran Grilla conceptual. \n\u25aa Con los Formularios de ABM definimos el comportamiento de las p\u00e1ginas que permiten \ntrabajar con los datos de la grilla \n\u25aa El dise\u00f1ador infiere desde los Formularios de ABM definidos para el mismo c\u00f3digo de \nGrilla, cuales son las columnas que la componen. Ud. no debe definir en ning\u00fan sitio \ncomo est\u00e1 compuesta su grilla, simplemente define las distintas Vistas (a trav\u00e9s de los \nFormularios de ABM) que desea tener en cada una de sus p\u00e1ginas. \n\u25aa Puede tener Columnas ocultas en una grilla. \n\u25aa Puede definir Atributos Determinantes para la Grilla. \nVeamos conceptualmente que hay detr\u00e1s de esto:  \n \nComo puede observarse en la figura superior el C\u00f3digo de Grilla es el resultado de la UNION \nde todos los conjuntos de atributos definidos por las distintas vistas. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 88 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nTareas en paralelo trabajando sobre el mismo grid: \nEl esquema de estados est\u00e1 pensado para soportar tareas trabajando en paralelo sobre el \nmismo grid. Para ello se implementa el bloqueo mediante el workitem. \nCada tarea confirmar\u00e1 o rechazar\u00e1 en forma independiente sus propias operaciones (A BM) \nde atributos, distinguiendo las mismas a trav\u00e9s del workitem. \nPara la lectura, es decir la carga del gris desde la tabla xwfv01 se utiliza la forma de lectura \nsucia. \nEs decir, los cambios propuestos pero no confirmados en la base de datos, son visualizados \npor todos los usuarios como reales, con la particularidad que los registros comprometidos \nest\u00e1n bloqueados por quien propone los cambios hasta tanto se confirmen o rechacen. \nA modo de ejemplo, un workitem \u201cA\u201d levanta en el grid en modo solo lectura un atributo que \ntiene pendiente una confirmaci\u00f3n en un workitem \u201cB\u201d. \nEstructura que permite soportar grillas: \n \n \n2.5.6.2.1 Estados de las Celdas de una Grilla \n \nLa tabla xwfv01 (tabla extensi\u00f3n de \u201cRelevant data\u201d) permite soportar grillas. \nLa misma guarda un registro para cada Celda de la grilla. Ese registro, es decir la celda, tiene \nun estado asociado: \nP = pendiente  \nC = confirmado \nD = definitivo \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 89 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nB = borrado \nPara los estados P y D, si el workitem es distinto de cero, indica que el registro est\u00e1 bloqueado \npor dicho workitem, esperando que el mismo Confirme o Rechace la  operaci\u00f3n que est\u00e1 \nprocesando. \nEn el caso de estado P el workitem siempre es <>0. \nEn el caso del estado D cuando el workitem es = 0, representa un atributo Definitivo, el cual \nya ha sido confirmado. Es un atributo de s\u00f3lo lectura para todos los usuarios del sistema. \n \n2.5.6.2.2 Transiciones de Estados \n \n\u25aa Caso 1: alta manual. \nA trav\u00e9s de un Formulario de ABM, el usuario da de alta una fila de la grilla. \nEn ese momento se generan dos registros en la tabla xwfv01, con estado Pendiente y se \nalmacena en el atributo xwfv01Wki (workitem) el valor del workitem de workflow con e l que \nest\u00e1 ejecutando la tarea. \nEl usuario puede salir de la p\u00e1gina con el bot\u00f3n Aceptar, Grabar y Cerrar \u00f3 Cancelar. \nEn el caso que presione Aceptar los registros en estado Pendiente pasar\u00e1n al estado \nConfirmado, y al workitem se le asigna el valor cero.  \nEl comportamiento de Grabar y Cerrar es id\u00e9ntico. \nEs importante destacar que ya que las grillas las concebimos de alguna manera como una \nextensi\u00f3n del Relevant Data, estamos Confirmando la grabaci\u00f3n de la grilla en el mismo \nmomento que se graba el Relevant Data, es decir tanto en Aceptar, como en Grabar y Cerrar. \nEl usuario podr\u00e1 modificar o eliminar todas las veces que desee los valores ingresados \nmanualmente, hasta que finalice la tarea con el bot\u00f3n Aceptar, por m\u00e1s que haya presionado \nGrabar y Cerrar. \nMientras que si presiona Cancelar simplemente se borran los registros Pendientes (validando \nque el workitem almacenado coincida con el workitem en ejecuci\u00f3n). \n \n\u25aa Caso 2: alta autom\u00e1tica:  \nUna fila de una grilla podr\u00eda cargarse a trav\u00e9s de un programa o inclusive de una sentencia \nSQL. \nEn ese momento se generar\u00edan dos registros en la ta bla xwfv01, con estado Definitivo y se \nalmacena en el atributo xwfv01Wki (workitem) el valor del workitem de workflow con e l que \nest\u00e1 ejecutando la tarea. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 90 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEl usuario puede salir de la p\u00e1gina con el bot\u00f3n Aceptar, Grabar y Cerrar \u00f3 Cancelar. \nEn el caso que presionara Aceptar los registros en estado Definitivo y xwfv01Wki <> 0 \nconservar\u00edan el estado Definitivo, y al workitem se le asignar\u00eda el valor cero. \nEl comportamiento de Grabar y Cerrar es id\u00e9ntico. \nEl usuario podr\u00e1 modificar o eliminar todas las veces q ue desee los valores ingresados \nmediante un alta autom\u00e1tica, hasta que finalice la tarea con el bot\u00f3n Aceptar, o hasta que \nhaya presionado Grabar y Cerrar. Cualquiera de los dos eventos que ocurran primero estar\u00e1 \ngenerando en la grilla atributos de solo le ctura que no podr\u00e1n ser modificados \nposteriormente (n\u00f3tese la diferencia con el alta manual).   \nAl presionar Cancelar simplemente se borrar\u00edan los registros en estado Definitivo y xwfv01Wki \nigual al workitem en ejecuci\u00f3n. \n \n\u25aa Caso 3: modificaci\u00f3n de un atributo en estado C = confirmado : \nCualquier atributo en este estado es modificable por el usuario, siempre y cuando se le haya \nparametrizado una grilla que permita ABM (dicha parametriza ci\u00f3n se presenta m\u00e1s \nadelante). \nAl realizar la modificaci\u00f3n en el ABM de la grilla el registro queda en estado pendiente con el \natributo workitem cargado (esto oficia de bloqueo). \nEl presionar el bot\u00f3n Aceptar del formulario principal se aplican los cambios volviendo a \nquedar el atributo con estado Definitivo (sin workitem). \nDe presionarse Cancelar en el formulario principal se reversan los cambios propuestos, y se \nretorna al estado original. \n\u25aa Caso 4: modificaci\u00f3n de un atributo en estado D = definitivo \nNo est\u00e1 permitido. \n\u25aa Caso 5: eliminar una fila de la grilla \nSi bien la baja se indica seleccionando un registro completo de la grilla, se analiza cada \natributo por separado. \nCaso 5.1: eliminar un atributo en estado C=confirmado \nAl presionar Eliminar los atributos en estado confirmado son marcados l\u00f3gicamente de la \nbase de datos con el estado B = borrado. \nEn el evento Aceptar/Grabar y cerrar del formulario principal se confirma el borrado f\u00edsico. \nEn el evento Cancelar se reversa el borrado l\u00f3gico regresando a la situaci\u00f3n anterior. \nCaso 5.2: eliminar un atributo en estado D=definitivo ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 91 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nCuando un atributo es cargado en forma autom\u00e1tica (pgm \u00f3 Sql) el mismo queda en estado \nD (definitivo) y Workitem = workitem del usuario en ejecuci\u00f3n. Esto produce un bloqueo del \natributo a favor de este usuario.  \nEn esta etapa el atributo puede ser eliminado de la grilla. \nCuando el usuario presiona Aceptar o Grabar y Cerrar el registro es \u201cconfirmado\u201d, pasando el \nworkitem al valor Cero y el estado permanece en Definitivo. A partir de este cambio de estado \nel atributo no puede eliminarse. \n \n2.5.7 Eventos \n \nSe han definido una cierta lista de eventos que permiten ejecutar programas particulares en \nciertos momentos espec\u00edficos. Los eventos se parametrizan en la Metadata.  \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 92 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n\u25aa onPageValidate: Ejecuta en momento de Validaci\u00f3n. \nDicho momento se da cuando el usuario presiona el bot\u00f3n de Validar, Aceptar, Grabar y \nCerrar, Siguiente \u00f3 Atr\u00e1s, Finalizar.Llama din\u00e1micamente a un programa que validar\u00e1 la \np\u00e1gina completa, para ello recibir\u00e1 todos los atributos de la misma junto con sus valores. \n\u25aa onPageValidateX: Es an\u00e1logo al anterior, pero tiene sentido solamente parametrizarlo \npara una p\u00e1gina de un asistente. La X ser\u00e1 el n\u00famero de la p\u00e1gina como pue de verse \nen la figura superior. \n\u25aa onPageNext: Ejecuta cuando el usuario presiona el bot\u00f3n siguiente en una p\u00e1gina de \nun Asistente. \n\u25aa onPageNextToX: Es an\u00e1logo al anterior pero solamente ejecuta para la p\u00e1gina X del \nasistente en el que est\u00e1 parametrizado. \n\u25aa onPageBack:  Ejecuta cuando el usuario presiona el bot\u00f3n anterior    en una p\u00e1gina de \nun Asistente. \n\u25aa onPageBackToX: Es an\u00e1logo al anterior pero solamente ejecuta para la p\u00e1gina X del  \nAsistente en el que est\u00e1 parametrizado. \nEs importante destacar que en el caso de los Asistentes, tenemos dos tipos de eventos, l os \ngen\u00e9ricos y los espec\u00edficos. \nLos eventos gen\u00e9ricos son: onPageNext, onPageBack, onPageValidate. \nLos llamamos as\u00ed ya que los eventos se parametrizan a nivel de la metadata de la tarea, y la \nmetadata es com\u00fan para todas las p\u00e1ginas de un asistente, por lo cual todas las p\u00e1ginas del \nasistente ejecutar\u00e1n los eventos antes detallados. \nA no ser que se defina para la p\u00e1gina del asistente que est\u00e1 ejecutando su evento equivalente \nespec\u00edfico, a saber: onPageNextToX, onPageBackToX, onPageValidateX, donde X es el \nn\u00famero de p\u00e1gina para la cual se define el evento. \nSi ejecuta el  evento m\u00e1s espec\u00edfico, no ejecutar\u00e1 en esa p\u00e1gina el evento gen\u00e9rico \nonPageValidate. \n \n2.5.8 Programar Eventos \n \nComo acabamos de ver en la secci\u00f3n Eventos hay varias situaciones en las que podemos \nagregar programaci\u00f3n a los formularios. \nEn las secciones anterior es tambi\u00e9n hab\u00edamos visto otros casos en que se pod\u00eda agrega r \nprogramaci\u00f3n, se trataba de:  \n\u25aa Carga autom\u00e1tica de un atributo \n\u25aa Validaci\u00f3n de un atributo  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 93 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nLa variante es que estos \u00faltimos se definen directamente en el Dise\u00f1ador y no en la \nMetadata, pero termin an siendo lo mismo, llamadas din\u00e1micas que el Interprete del \nDise\u00f1ador debe hacer a los programas del usuario. \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 94 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nPodr\u00edamos clasificar los programas con los que potenciamos a los Formularios en: \n\u25aa Programas de Carga (Carga autom\u00e1tica). \n\u25aa Programas de Validaci\u00f3n (de atributo o de P\u00e1gina completa). \n\u25aa Programas de paginado (onPageNext, onPageBack y sus equivalentes espec\u00edficos). \nPara simplificar la interacci\u00f3n del Int\u00e9rprete del Dise\u00f1ador con los objetos externos hemos \ndefinido una interfaz \u00fanica para todos los casos que hemos mencionado. \nEs decir que todos los programas se llamaran con los mismos par\u00e1metros. \n \nA continuaci\u00f3n detallaremos lo que recibir\u00e1n los programas en cada caso particular en los \nvectores EventName,Concepto() y Valor() y que se espera de ellos como retorno. \n \n2.5.8.1 Carga autom\u00e1tica de un atributo \n \nSi se trata de un atributo normal (no una grilla) \nEventName = \u2018ALTA\u2019 \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 95 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nConcepto (&i) = 'ATRNOM'   : cadena de caracteres ATRNOM \nValor (&i) = Atr.nombre  : nombre del atributo a cargar autom\u00e1ticamente \nConcepto (&i) = AtrDet.nombre  : nombre de atributo determinante \nValor (&i) = AtrDet.valor  : valor del atributo determinante \nSe enviar\u00e1n tantos atributos determinantes como existan en la definici\u00f3n del atributo. \nTodos los valores de atributos que se env\u00edan se toman desde la relevant data. \nLa ejecuci\u00f3n se produce en el evento Load de la p\u00e1gina. \nComo retorno se espera recibir: \nConcepto (&i) = \u2018ATRNOM\u2019: cadena de caracteres ATRNOM \nValor (&i) = Atr.Valor: valor obtenido por el programa particular \nNo se reciben declaraciones de errores desde el programa particular en este caso, \nsimplemente si no se recibe el valor se mostrar\u00e1 nulo. \n \nSi se trata de una grilla: \nEventName = \u2018ALTA\u2019 \nConcepto (&i) = 'ATRNOM'  : cadena de caracteres ATRNOM \nValor (&i) = Atr.nombre: nombre del atributo a cargar autom\u00e1ticamente \nConcepto (&i) = 'GRID' : cadena de caracteres GRID \nValor (&i) = C\u00f3digo de Grilla: c\u00f3digo de grilla \nConcepto (&i) = AtrDet.nombre : nombre de atributo determinante \nValor (&i) = AtrDet.valor : valor del atributo determinante \nSe enviar\u00e1n tantos atributos determinantes como existan en la definici\u00f3n del c\u00f3digo de grilla. \nTodos los valores de atributos que se env\u00edan se toman desde la relevant data. \nLa ejecuci\u00f3n se produce en el evento Load de la p\u00e1gina. \nComo retorno se espera recibir: \nNada. El programa particular deber\u00e1 grabar directamente la tabla xwfv01,  y sus atributos \ndeterminantes. \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 96 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n2.5.8.2 Validaci\u00f3n de un Atributo y/o P\u00e1gina \n \nUn caso particular de validaci\u00f3n permite validar un atributo a partir de una expresi\u00f3n definida \ncon el programa HRNG400 y asociada al formulario por medio del bot\u00f3n Validaciones. \n \nA todas las expresiones que se ejecuten se les pasar\u00e1 como datos de entrada: \n\u25aa ATRIBUTO / TODOS LOS ATRIBUTOS DEL FORMULARIO A VALIDAR \n\u25aa PROCESO \n\u25aa INSTANCIA \n\u25aa WORKITEM \n\u25aa ESTRUCTURA \n\u25aa FORMULARIO \n\u25aa ASISTENTE \n\u25aa PAGINA \n\u25aa EMPRESA \n\u25aa USUARIO \n\u25aa ATRIBUTOS RELEVANT DATA (que participen de condiciones en la Expresi\u00f3n) \nEn las expresiones se deben definir los CASOS DE ERROR y se deber\u00e1 devolver como valor \nde retorno el Mensaje de Error correspondiente. \n \n2.5.8.3 Validaci\u00f3n de p\u00e1gina \u201conPageValidate\u201d \n \nEventName = 'VALIDARPAG' \nConcepto (&i) = Atr.nombre    : nombre del atributo a validar \nValor (&i) = Atr.valor  : valor del atributo a validar \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 97 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nSe env\u00eda un par Concepto-Valor para cada atributo que exista en la p\u00e1gina a validar. \nAdicionalmente por cada Grilla se env\u00eda lo siguiente: \nConcepto (&i) = Atr.nombre   : nombre del atributo a validar, que ser\u00e1 DES_GRIDx \nValor (&i) = C\u00f3digo de Grid: c\u00f3digo de Grid \nConcepto (&i) = \u2018FRMABMx\u2019 : cadena de caracteres FRMABM + x, donde X es un correlativo \nque coincide con la X del DES_GRIDx \nValor (&i) = C\u00f3digo Form. ABM : c\u00f3digo de Formulario de ABM \nComo retorno se espera recibir: \nErrorcod = \u2018S\u2019 - Si la p\u00e1gina pasa la validaci\u00f3n \nErrorcod = \u2018N\u2019 - Si la p\u00e1gina no pasa la validaci\u00f3n \nSi el programa retorna un mensaje de error en ErrorDes el sistema muestra dicho mensaje. \nSi este \u00faltimo no existiera ya que no es obligatorio, muestra un mensa je por defecto del \nsistema. \n \n2.5.8.4 Validaci\u00f3n de p\u00e1gina \u201conPageValidateX\u201d \n \nEs id\u00e9ntico al anterior excepto el eventName: \nEventName = \u2018VALIDARPAGNRO_X\u2019: donde x es el n\u00famero de p\u00e1gina para la cual se defini\u00f3 \nel evento. \n \n2.5.8.5  \u201conPageBack\u201d \n \nEventName ='ONPAGEBACK' \nConcepto () = \u2018\u2019  : todo el vector con valores nulos \nValor () = \u2018\u2019: todo el vector con valores nulos \nComo retorno se espera recibir: \nConcepto (&i) = 'NUEPAGNUM'  : cadena de caracteres NUEPAGNUM \nValor (&i) = valor de p\u00e1gina: nuevo n\u00famero de p\u00e1gina ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 98 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEl sistema validar\u00e1 que la p\u00e1gina retornada se correcta, para ello debe ser menor que la \np\u00e1gina actual y debe existir en la definici\u00f3n del asistente. \nEl n\u00famero de p\u00e1gina que se maneja no se trata del Identificador de la p\u00e1gina ni del campo \norden, sino que lo que se hace es ordenar las p\u00e1ginas del asistente por el campo orden, y se \nles da un n\u00famero en tiempo de ejecuci\u00f3n, de manera que si hay 4 p\u00e1ginas definidas los \nn\u00fameros ir\u00e1n del 1 al 4, sin importar el valor de los campos AstPagId, o AstPagOrd.  \n  \n2.5.8.6  \u201conPageBackToX\u201d \nEs id\u00e9ntico al anterior excepto el eventName: \nEventName = 'ONPAGEBACKTOx': donde x es el n\u00famero de p\u00e1gina para la cual se defini\u00f3 el \nevento. \n \n2.5.8.7 Saltos de P\u00e1gina Condicionales \n \nUn caso particular de programa que se ejecuta en estas instancias es el de l programa que \npermite definir la pr\u00f3xima p\u00e1gina a partir de una expresi\u00f3n definida con el programa hrng400. \nSe debe asociar en cada p\u00e1gina del asistente donde deba ejecutar la regla, e l c\u00f3digo de la \nmisma. \nA la expresi\u00f3n que se ejecute se le pasar\u00e1 como datos de entrada: \n\u25aa TODOS LOS ATRIBUTOS DEL FORMULARIO \n\u25aa PROCESO \n\u25aa INSTANCIA \n\u25aa WORKITEM \n\u25aa ESTRUCTURA \n\u25aa FORMULARIO \n\u25aa ASISTENTE \n\u25aa PAGINA \n\u25aa EMPRESA \n\u25aa USUARIO \n\u25aa ATRIBUTOS RELEVANT DATA (que participen de condiciones en la Expresi\u00f3n) \nEn las expresiones se deben definir los CASOS DE S ALTO (combinaci\u00f3n  de valores que \nprovocar\u00eda una variaci\u00f3n en los saltos de p\u00e1gina) y se deber\u00e1 devolver como valor de retorno \nhacia donde debe ir, esto se  puede identificar como: \nF: n\u00famero de formulario, ejemplo F:120 , saltar\u00e1 a la p\u00e1gina donde se encuentre el formulario \n120. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 99 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nP: n\u00famero de pte, ejemplo P: 100 , saltar\u00e1 a la p\u00e1gina donde se encuentre la pte 100 \nN: n\u00famero de p\u00e1gina, ejemplo N: 6 saltar\u00e1 a la p\u00e1gina 6. \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 100 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n2.6 Implementaci\u00f3n de P\u00e1ginas adicionales \n \nCon la secci\u00f3n anterior se describieron las herramientas que se proporcionan para la \ndefinici\u00f3n de un proceso de negocio. Sin embargo, en algunas circunstancias puede que se \npueda automatizar alguna tarea y se desee desarrollar un programa particular para resolver \nalguna tarea. Esto se hace directamente con GeneXus y luego se establece la conexi\u00f3n d e \nuna tarea al programa creado. \nPara permitir esto, se brindan herramientas para que los programas creados puedan \ninteractuar con las dem\u00e1s tareas del proceso de negocio. La comunicaci\u00f3n d entro de los \nprocesos de negocio es siempre a trav\u00e9s de datos dentro del mensaje que se asocia a una \ninstancia particular. Los programas implementados, pueden utilizar un conjunto de \nprogramas dentro de GeneXus (se ubican en la carpeta MsgAPI) para leer datos del mensaje \ndel proceso y para escribir datos en el mensaje del proceso. \nLa conexi\u00f3n de los programas a las tareas, se puede definir con GeneXus Process Modeler e \nimpactando los datos en la base de datos para que las herramientas de Workflow puedan \nleer la conexi\u00f3n. El otro mecanismo para definir la conexi\u00f3n de las tareas es dentro del \nAdministrador de Procesos dentro de Bantotal. \nEn esta etapa, tambi\u00e9n se deben desarrollar las PTEs (P\u00e1ginas de Tratamiento \nEspecializado). Recordemos que estos elementos son programas encargados de pedir o \nmostrar ciertos datos que se asignan a p\u00e1ginas dentro de un asistente. La programaci\u00f3n de \nestas p\u00e1ginas tambi\u00e9n es realizada dentro de GeneXus (para hacerlo se deben crear \nWorkpanels que utilicen el estilo PTE001). Al ut ilizar el estilo PTE001 las PTE heredar\u00e1n el \nfuncionamiento de las p\u00e1ginas de los asistentes y su comportamiento ser\u00e1 igual al resto de \nlas p\u00e1ginas del asistente. Luego que la PTE est\u00e1 definida debe ser dada de alta en Bantotal, \npara que est\u00e9 disponible pa ra que pueda ser asignada a una p\u00e1gina de un asistente. Al \nejecutar el asistente, se utilizara el programa que representa la PTE para hacer la solicitud o \nel pedido de datos correspondiente a la p\u00e1gina. \n \n2.7  Testeo y puesta en producci\u00f3n  \n \nLa ejecuci\u00f3n de los procesos se realiza desde el Inbox. Es importante recordar que al definir \nun proceso, tambi\u00e9n se definen un conjunto de roles funcionales que deben tener los \nusuarios para poder realizar el proceso. Solo los usuarios que tengan el rol funcional \nnecesario para ejecutar la primera tarea de un proceso, podan ini ciar la ejecuci\u00f3n del \nproceso.  \nPara realizar testeos, si se utiliza una misma base de datos, se puede crear un rol funcional \n\u201cTesteo\u201d y asignarle \u00fanicamente ese rol funcional a todas las tareas. Luego , darle a un \nusuario el rol funcional de \u201cTesteo\u201d y utilizar ese usuario para ejecutar los procesos. En el \nmomento del pasaje a producci\u00f3n corresponder\u00eda asignarle los roles funcionales verdaderos \na los procesos.  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 101 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n3.0 Mantenimiento  de Procesos \n \n3.1 Concepto \n \nCon el fin  de mantener Workflow en un mismo ambiente que Bantotal web, con iguales \ncriterios de dise\u00f1o web y mejorando la utilidad de la aplicaci\u00f3n se desarroll\u00f3 el panel \u2018Trabajar \ncon Procesos\u2019 (HXWFD001), para realizar el mantenimiento en la parametrizaci\u00f3n del flujo.  \n \n3.2 Funcionamiento \n \nDesde el panel \u2018Trabajar con Procesos\u2019 (HXWFD001) , el usuario podr\u00e1 acceder al \nmantenimiento de roles, tareas, usuarios, metadatas, etc: \n \nFigura 14 - Trabajar con Procesos (HXWFD001) \nSe muestran todos los procesos existentes con su fecha de creaci\u00f3n y la \u00faltima fecha de \nmodificaci\u00f3n. \n \nMediante la Gu\u00eda de procesos Especiales 12220, podemos ocultar el bot\u00f3n \u201cRoles de proc.\u201d \ny solo permitir a el perfil que se parametrice, visualizar el bot\u00f3n en el panel \u201cHXWFD001\u201d.  \nPara el bot\u00f3n \u201cRoles de proc.\u201d la parametrizaci\u00f3n es la siguiente: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 102 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u2022 \u2018Empresa\u2019 : 1 \n\u2022 \u2018C\u00f3digo\u2019 : 12220 \n\u2022 \u2018Correlativo 1\u2019 : 1 \n\u2022 \u2018Correlativo 2\u2019 : 0 \n\u2022 \u2018Correlativo 3\u2019 : 0 \n\u2022 \u2018Descripci\u00f3n\u2019 : \u201cINGRESAR NOMBRE DEL PERFIL A PARAMETRIZAR\u201d \n \nMediante el Mantenimiento de Perfiles, vamos a asignarle el perfil a el usuario que tenga \npermitido utilizar los botones. Es el mismo perfil que ingresamos en la descripci\u00f3n de la gu\u00eda \nde procesos. \n \nEn caso de no crear la gu\u00eda de procesos 12220, el bot\u00f3n ser\u00e1 visible para cualquier usuario. \n \n3.2.1 Roles del Proceso \n \nSe despliegan todos los roles que est\u00e1n asociados a las tareas vinculadas al proceso: \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 103 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nFigura 15 - Trabajar con Roles (HXWFD006) \nSe describen los botones que se visualizan en el panel: \n\u25aa Bot\u00f3n Tareas: Se puede ver que tareas ejecuta el rol seleccionado y da la posibilida d \nde eliminar o agregar al rol. \n\u25aa Bot\u00f3n Usuarios: Muestra los usuarios que poseen ese rol. \n\u25aa Bot\u00f3n Renombrar: Permite modificar el nombre del rol. \n \nMediante la Gu\u00eda de procesos Especiales 12220, podemos ocultar estos botones y solo \npermitir a el perfil que se parametrice, visualizar los siguientes botones \u201cTareas\u201d, \u201cModificar\u201d, \n\u201cUsuarios\u201d en el panel \u201cHXWFD006\u201d.  \nPara el bot\u00f3n \u201cTareas\u201d la parametrizaci\u00f3n es la siguiente: \n\u2022 \u2018Empresa\u2019 : 1 \n\u2022 \u2018C\u00f3digo\u2019 : 12220 \n\u2022 \u2018Correlativo 1\u2019 : 10 \n\u2022 \u2018Correlativo 2\u2019 : 0 \n\u2022 \u2018Correlativo 3\u2019 : 0 \n\u2022 \u2018Descripci\u00f3n\u2019 : \u201cINGRESAR NOMBRE DEL PERFIL A PARAMETRIZAR\u201d \n \nPara el bot\u00f3n \u201cModificar\u201d la parametrizaci\u00f3n es la siguiente: \n\u2022 \u2018Empresa\u2019 : 1 \n\u2022 \u2018C\u00f3digo\u2019 : 12220 \n\u2022 \u2018Correlativo 1\u2019 : 11 \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 104 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u2022 \u2018Correlativo 2\u2019 : 0 \n\u2022 \u2018Correlativo 3\u2019 : 0 \n\u2022 \u2018Descripci\u00f3n\u2019 : \u201cPERFIL A PARAMETRIZAR\u201d \n \nPara el bot\u00f3n \u201cUsuarios\u201d la parametrizaci\u00f3n es la siguiente: \n\u2022 \u2018Empresa\u2019 : 1 \n\u2022 \u2018C\u00f3digo\u2019 : 12220 \n\u2022 \u2018Correlativo 1\u2019 : 12 \n\u2022 \u2018Correlativo 2\u2019 : 0 \n\u2022 \u2018Correlativo 3\u2019 : 0 \n\u2022 \u2018Descripci\u00f3n\u2019 : \u201cPERFIL A PARAMETRIZAR\u201d \n \nMediante el Mantenimiento de Perfiles, vamos a asignarle el perfil a el usuario que tenga \npermitido utilizar los botones. Es el mismo perfil que ingresamos en la descripci\u00f3n de la gu\u00eda \nde procesos. \n \nEn caso de no crear la gu\u00eda de procesos 12220, el bot\u00f3n ser\u00e1 visible para cualquier usuario. \n \n3.2.2 Atributos  \nSe realiza el alta, baja y modificaci\u00f3n de atributos vinculados al proceso. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 105 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n \n \n3.2.3 Tareas  \n \nSeleccionado este se despliegan todas las tareas existentes en el flujo. Considerando una de \nellas se accede a los roles que la pueden ejecutar, a la metadata y a la parametrizaci\u00f3n de \nmail de dicha tarea. \n \nFigura 16 - Trabajar con Procesos - Tareas (HXWFD002) \n \n3.2.3.1 Roles  \nAl presionar dicho bot\u00f3n (Figura 16), se permite agregar o quitar roles a la tarea. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 106 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n3.2.3.2 Metadata  \n \nMediante el bot\u00f3n \u2018Meadata\u2019 (Figura 16), Se podr\u00e1n crear o eliminar, no modificar metadatas \nde cada una de las tareas seleccionadas. \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 107 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nFigura 17 - Trabajar con Procesos - Tareas (HXWFD002) \n \n3.2.3.3 Parametrizaci\u00f3n Mail \nVer secci\u00f3n 2.4.8.1 \n \n3.2.4 Estad\u00edsticas \n \nLa idea e s definir que se considera o se desea medir como tiempo del proceso. No \nnecesariamente la pri mer y la \u00faltima tarea del flujo  marcar el tiempo de proceso, ya que \npuede haber inter\u00e9s de considerar otras. Para ellos se debe parametrizar la informaci\u00f3n, la \ncual ser\u00e1 utilizada posteriormente para el c\u00e1lculo. \n \nA continuaci\u00f3n se describir\u00e1n los 3 botones que se encuentran en la parte inferior  de la \npantalla del panel \u2018Trabajar con Procesos\u2019 (HXWFD001), los cuales se refieren al ambiente \nen general, es decir a los roles y usuarios que existen y las restricciones que se establecieron \n \n \n3.2.5 Roles  \nPor este bot\u00f3n se accede a la lista de roles vinculados al proyecto. Las funcionalidades sobre \ncada rol son las mismas que las descritas para Roles por Proceso (3.2.1). \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 108 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n3.2.6 Usuarios \nMediante el bot\u00f3n \u2018Usuarios\u2019 como se muestra en el panel \u2018 Trabajar con Procesos \u2019 \n(HXWFD001), se despliega el panel \u2018Usuarios Workflow\u2019 ( HXWF910), el cual permite a \nusuarios BT ser usuario WF. \nEl usuario seleccionado puede ser o no usuario WF, esto se ve en el panel si est\u00e1 cliqueada \nla columna. \n \nFigura 18 - Usuarios Workflow (HXWF910) \n3.2.6.1 Detalle Usu WF \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 109 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nAl presionar el bot\u00f3n \u2018 Detalle Usu WF \u2019 (Figura 18), se despliega el siguiente panel, el cual \naplica solo s\u00ed  el usuario BT - es usuario WF.  Permite hacer el mantenimiento del mail del \nusuario. \n \n \n \n3.2.6.2 Impact. BT->WF \nEste bot\u00f3n aplica solo para  cuando   el usuario BT a\u00fan no es usuario WF, se presiona  el \nbot\u00f3n para hacer la asignaci\u00f3n. \n  \n3.2.6.3 En Oficina s/n \nSeleccionado el usuario al presionar este bot\u00f3n se excluye o incluye al usuario del inbox. Si \nel campo \u2018En Oficina\u2019 est\u00e1 tildado, quiere decir que el usu ario est\u00e1 habilitado para manejar \ninstancias. \n \n3.2.6.4 Restricciones  \nMuestra las restricciones que tenga el usuario. \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 110 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n3.2.7 Restricciones  \nPresionando el bot\u00f3n \u2018Restricciones\u2019 (figura 14) se accede al siguiente panel, el cual muestra \nlas restricciones que ya existen, o se pueden dar de alta nuevas presionando el bot\u00f3n \n\u2018Agregar\u2019. \n \nFigura 19 - Restricciones Workflow \nLuego de apretar el bot\u00f3n \u2018Agregar\u2019, se abre una pantalla en la cual nos pide que definamos \nuna nueva restricci\u00f3n. \n \nLuego de creada la restricci\u00f3n, se deben indicar los valores posibles que puede adoptar dicha \nrestricci\u00f3n, para ello se debe seleccionar la restricci\u00f3n recientemente creada y se presiona \nel bot\u00f3n \u2018Ver Valores\u2019. \nPara ingresar los nuevos valores se presionar\u00e1 el bot\u00f3n \u2018Agregar Fila\u2019 y se ir\u00e1n agregando los  \ndistintos valores. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 111 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nUna vez concluida la tarea de definir los valores de la restricci\u00f3n, se presiona el bot\u00f3n \n\u2018Confirmar\u2019. \nA continuaci\u00f3n se asociar\u00e1 la restricci\u00f3n a los distintos usuarios que se deseen que la \nposean, para  ello se presionar\u00e1 el bot\u00f3n \u2018Ver Usuarios\u2019, seleccionando previamente la \nrestricci\u00f3n. \n \nSe seleccionan los distintos usuarios y se presionan los botones \u2018Agregar\u2019 y \u2018Volver\u2019, en ese \norden. \nLo que nos resta por realizar es establecer qu\u00e9 valores de restricci\u00f3n tendr\u00e1n cada usuario. \nPara ello hay 2 mecanismos. \nEl primero, se selecciona el usuario, luego abajo se establece el valor de la restricci\u00f3n que \nadquirir\u00e1 y por \u00faltimo se presiona el bot\u00f3n \u2018Confirmar\u2019. \nEl segundo mecanismo consiste en, seleccionar el usuario y presionar el bot\u00f3n \u2018Ver valores\u2019. \nA continuaci\u00f3n se selecciona un valor del combo y se presiona el bot\u00f3n \u2018Confirmar\u2019. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 112 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n3.2.7.1 Asociar restricci\u00f3n a un flujo \nEs posible d ar de alta o de baja una restricci\u00f3n en el flujo en ejecuci\u00f3n mediante la \nparametrizaci\u00f3n de una regla de negocio asociada al programa postcondicional AXWFA004. \n\u2022 Asociar a la tarea donde se quiera dar de alta o baja la restricci\u00f3n el programa \npostcondicional AXWFA004. \n \n\u2022 Crear en la tarea la metadata de tarea EXPRESION_RESTRICCION con el valo r de la \nregla de negocios a parametrizar. \n \n\u2022 En la regla de negocios se puede pueden crear atributos con el mismo nombre que \nuna relevant data y estos ser\u00e1n enviados a la misma cuando se llame a  la regla. \nTambi\u00e9n se env\u00edan como atributos, USUARIO, PROCESO, I NSTANCIA, WORKITEM y \nEMPRESA. Si se cre\u00f3 un atributo en la regla que coincide con el de una relevant data \ny esta no est\u00e1 cargada en ese momento en la instancia, se le enviar\u00e1 a dicho atributo \nel valor NULL. \n \n\u2022 En la regla se debe parametrizar el retorno con CODRESTRICCION#VALOR, pueden \nadicionarse las que sean necesarias con # como separador. \nEjemplo, si la restricci\u00f3n se llama GRUPO se deber\u00e1 escribir la siguiente forma el \nretorno de la regla \nGRUPO#2 Le asigna el valor 2 a la restricci\u00f3n grupo \n \n\u2022 Si el valor luego del # es DELETE, entonces la restriccion se eliminar\u00e1 de la instancia \nGRUPO#DELETE Se borra la restricci\u00f3n de la instancia \n \n\u2022 Si el valor luego del # comienza con RVDATA_ se tomar\u00e1 el string que sigue al _ y se \nasignar\u00e1 el valor de esa relevant data a la restricci\u00f3n. \nGRUPO#RVDATA_VCAMPO Est\u00e1 levantando el valor de la restricci\u00f3n de la RD \nVCAMPO \n \n\u2022 Dado que las reglas de negocio admiten c\u00e1lculos y funciones en los retornos se puede \nconfigurar para devolver cualquier concepto que se requiera  como valor de la \nrestricci\u00f3n. \n \n\u2022 Asegurarse que la regla de negocio siempre de verdadero \n \nSi uno llegase a escribir el retorno de la regla de la siguiente forma, cada vez que se llama \nborra el valor actual de la restricci\u00f3n y lo sobre escribe con el valor nuevo \nGRUPO;DELETE#GRUPO;RVDATA_VCAMPO \n  ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 113 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n4.0  Funcionamiento del Inbox en Bantotal versi\u00f3n web \n \n4.1 Concepto \nCon el fin de ejecutar  el  inbox de workflow en un mismo ambiente que Bantotal web, \nmanteniendo los criterios de dise\u00f1o web y mejorando la utilidad de la aplicaci\u00f3n se desarroll\u00f3 \nuna  bandeja de entrada especial  para la ejecuci\u00f3n de tareas del workflow. \n \n4.2 Funcionamiento \n \nDesde el p anel  \u2018 Bandeja de Entrada de Tareas \u2019 (HXWF900), el usuario, seleccionar\u00e1 y \nejecutar\u00e1 las distintas tareas seg\u00fan su rol o roles. \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 114 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nFigura 20 - Bandeja de Entrada de Tareas  (HXWF900) \n \nSe describen algunas de las columnas que se visualizan en el panel: \n \n\u25aa Prioridad:  \nEn el caso en que la tarea tenga prioridad normal, no aparecer\u00e1 ning\u00fan \u00edcono en esta \ncolumna, en cambio si la prioridad fuera alta o baja aparecer\u00e1n un signo de admiraci\u00f3n o \nuna flecha hacia abajo seg\u00fan el caso. \n \n\u25aa Estado: \nUna tarea en un momento dado estar\u00e1 en uno de los siguientes estados: \n\u2022 Disponible: se muestra un sobre cerrado, las tareas est\u00e1n disponibles para que \ncualquiera con el rol correspondiente pueda tomarla, una vez que un usuario lo hace \npasar\u00e1 a uno de los siguientes estados. \n\u2022 Asignada sin ejecutar: se muestra un sobre cerrado pero con una persona asociada. \nUna tarea aparecer\u00e1 en este estado siempre que sea tomada y no se haya \nparametrizado para que se ejecute ante dicho evento. En este estado, el usuario \npodr\u00e1 liberar la tarea, pasa nuevamente a disponible, o ejecutar la misma, pasando \nen ese caso al estado siguiente, en caso que no se culmine en la ejecuci\u00f3n. \n\u2022 Asignada con ejecuciones: en este caso el sobre se mostrar\u00e1 abierto, este estado \nindica que la tarea se ha ejecutado pero no se ha completado a\u00fan. Si la tarea en se \nparametriz\u00f3 para que admita que el usuario la complete mediante la tecla siguiente, \nsi \u00e9ste considera que la tarea ya fue terminada, podr\u00e1 seleccionar dicho bot\u00f3n \nculminando la misma. \nEn el panel se perimite  filtrar para que muestre las tareas que cumplen ciertos estados, \nseg\u00fan se muestra a continuaci\u00f3n: \n \n\u25aa Asunto \nEn esta columna se muestra el nombre del proceso al que pertenece la tarea. \n \n\u25aa Tarea \nSe muestra en nombre de la tarea. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 115 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n\u25aa Comentario \nAl iniciar una instancia del proceso, se puede ingresar un comentario que luego se mostrar\u00e1 \nen esta columna. Si este no se ingresara, se puede parametrizar por proceso para que \nmuestre un dato y su valor, ejemplos; Cliente: 1010; Tr\u00e1mite: 12345; etc. Luego existe opci\u00f3n \nde b\u00fasqueda por comentario que permite ubicar f\u00e1cilmente un tr\u00e1mite, cliente etc. \nPara que aparezca un valor de relevant data como comentario del proceso, se deber\u00e1 \nparametrizar en la tabla XWFV02 mediante el programa HXWFV02T para un c\u00f3digo  de \nestructura cualquiera en el par\u00e1metro 2 con correlativo igual al id del proceso de GXflow \ncomo valor el nombre del atributo de la relevant data a mostrar como comentario. De igual \nforma pero para el par\u00e1metro 3 se parametrizara la descripci\u00f3n que se quiere mostrar previo \nal valor. \n \n\u25aa Creada \nMuestra la fecha y la hora en que fue creada la tarea. Mediante el filtro de orden de creaci\u00f3n \nse pueden ordenar las tareas en orden ascendente o descendente de creaci\u00f3n. Este filtro \ntiene como valor default el parametrizado en la tabla XWFV02 para un c\u00f3digo de estructura \ncualquiera en el par\u00e1metro 5 con correlativo 1, el valor 0 corresponde a descendente y el 1 \na ascendente \n \n\u25aa Dead-Line \nAparece un \u00edcono de aviso de que la tarea ha superado la marca de deadline o warning. \n \n4.2.1 Consultar \n \nMediante dicho bot\u00f3n (Figura 20) se permite visualizar los estados por los que ha pasado la \ninstancia y los usuarios que la han atendido, se despliega el siguiente panel: ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 116 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n \n4.2.2 Delegar \nEsta opci\u00f3n permite invocar al Panel de Delegaci\u00f3n en caso que la tarea permita ser \ndelegada. El cual muestra en la grilla del recuadro \u2018Roles\u2019 los cuales a la vez, manejan la \ntarea y est\u00e1n asignados al usuario que ejecuta. En gril la del recuadro \u2018Usuarios\u2019 se \nencuentran los que poseen asignados el rol seleccionado. \n \n4.2.3 Incrementar Prioridad \nPermite incrementar la prioridad de una tarea. \n \n4.2.4 Disminuir Prioridad \nPermite disminuir la prioridad de una tarea. \n \n4.2.5 Tomar \nPermite seleccionar una tarea en estado disponible, para luego ser ejecutada. Si la tarea esta \nparametrizada en GxPdm con automatic execute en si, se llamar\u00e1 a la aplicaci\u00f3n asociada a \nla tarea. \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 117 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n4.2.6 Liberar \nPermite pasar una tarea asignada sin ejecuci\u00f3n a disponible, se utiliza cuando una tarea fue \ntomada por error. \n \n4.2.7 Siguiente \nSi la tarea tiene parametrizada la opci\u00f3n disable next en false (advanced properties, inbox \nbehavior), esta operaci\u00f3n le permitir\u00e1 completar (dar por finalizada) la tarea. En algunos \ncasos es la aplicaci\u00f3n la que completa la tarea, o se desea que con la simple ejecuci\u00f3n se \ncomplete la tarea, para ello existen las propiedades disable next (se pasa a true) y automatic \nnext respectivamente. Es importante notar que solo se completar\u00e1 la tarea si no existe un \nprograma postcondition asociado a la misma o si este devuelve al motor de workflow que la \ncondici\u00f3n se cumple. \n \n \n \n \n4.2.8 Ejecutar \nEjecuta la aplicaci\u00f3n asociada a la tarea. \n \n4.2.9 Datos Ingresados \nEjecuta el programa de consulta asociado a la tarea, si se parametriza un valor num\u00e9rico se \nejecutar\u00e1 el formulario con ese c\u00f3digo en modo consulta. Para el caso en que para una tarea \ncerrada se quiera mostrar un formulario diferente (por ejemplo con m\u00e1s campos ingresados \nen tareas posteriores), se debe crear una metadata de tarea 'CONS_HIST_F' con el valor igual \nal formulario que se quiere ejecutar. \n \n4.2.10 Diagrama \nEsta opci\u00f3n con la previa selecci\u00f3n de un registro, permite ver el flujo del proceso asociado \na la  instancia seleccionada. Muestra mediante una animaci\u00f3n el camino que ha seguido \ndicha  instancia. \nEjemplo: ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 118 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nLuego de impactado el flujo del cual se requiere la funcionalidad de Diagrama se debe de \nexportar el impacto desde el Process Modeler con la opci\u00f3n Export Impact encontrada en el \nmen\u00fa Project.  \n \n \nUna vez guardado el impacto se debe de ejecutar el panel HXWFCARDG. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 119 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nEn este panel se debe ingresar el c\u00f3digo del proceso al cual corresponde el diagrama y el \narchivo correspondiente al export del impacto.  \nCon estos datos cargados se debe presionar el bot\u00f3n \u201cCargar\u201d con lo cual iniciar\u00e1 la carga.  \nSe debe de repetir esto \u00faltimo para cada proceso que se encuentre en el export del impacto. \nFuncionamiento: \nEl programa carga el archivo correspondiente al export y descomprime el archivo de extensi\u00f3n \n.gri que se encuentra dentro. Se abre este archivo interpret\u00e1ndolo como un xml y se busca el \nproceso recibido como par\u00e1metro. Dentro del mismo se busca el XML del diagrama que se \ngraba en la tabla WFPRCAUX \n \n4.2.11 Documentos \n \nPresionando el bot\u00f3n \u2018Documentos\u2019 (Figura 20), se despliega el pan el \u2018Documentos\u2019 \n(HXWFDOCT), el cual permite el  manejo de documentos de la instancia (\u00e9sta opci\u00f3n estar\u00e1 \nhabilitada en caso que el Proyecto/Flujo tenga manejo de documentos y a su vez la tarea \nseleccionada tenga manejo de documentos). En el caso de que el usuario no tenga asignada \nla tarea accionar este bot\u00f3n har\u00e1 que se asigne la tarea y se pase a estado de ejecuci\u00f3n. \n \nFigura 21 - Documentos (HXWFDOCT) \nEn la grilla se pueden visualizar tres columnas auxiliares, ellas son: \n\u2022 Bloq: indica si el documento se encuentra o no bloqueado para modificaci\u00f3n \n\u2022 Act.: indica si se tiene o no permisos para modificar el documento en la tarea \n\u2022 Elim: indica si se tiene o no permisos para eliminar el documento en la tarea \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 120 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nLa \u00fanica parametrizaci\u00f3n adicional que se deber\u00e1 realizar es definir (a trav\u00e9s del panel \nHFRCONFFILREP) el repositorio de nombre \u201cBTBlobPath\u201d en el cu\u00e1l se indicar\u00e1 el directorio \ndonde se almacenaran temporalmente los documentos (\u201cmirado\u201d desde el servidor). Dicho \npath debe coincidir con el path definido en el client.cfg, para la propiedad CS_BLOB_PATH. \nLas opciones habilitadas (dependiendo de los permisos que se le hayan asignado a la tarea \nen el Process Modeler) son las que se describen a continuaci\u00f3n:  \n \n4.2.11.1  Agregar  \nDicho bot\u00f3n permite  dar de alta un nuevo documento a la instancia. \n \n4.2.11.2  Eliminar \nSe permite eliminar un documento. \n  \n4.2.11.3 Bloquear \nAl modificar documentos, se permite modificar el contenido de un documento, para ello se \nobtiene una copia del mismo y se bloquea ; una vez realizadas las modificaciones se debe \nvolver a subir el mismo (ver \u2018Actualizar\u2019) o simplemente cancelar las modificaciones (ver \n\u2018Liberar\u2019) \n \n4.2.11.4 Liberar \nDicho bot\u00f3n nos permite liberar el documentado que se hab\u00eda bloqueado. \n \n \n4.2.11.5 Actualizar \n De \u00e9sta forma se sube una nueva versi\u00f3n del documento que se encuentra previamente \nbloqueado al servidor. \n \n4.2.11.6 Versiones \n Permite ver las diferentes instancias (versiones) de un documento, se despliega el\u00f1 siguiente \npanel: ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 121 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n4.2.11.7 Ejecutar \nPermite ejecutar la tarea de la instancia a la que pertenecen los documentos , de la misma \nmanera que se hace con el bot\u00f3n del Inbox.  \n4.2.12 Impresos \n \nMediante esta opci\u00f3n (Figura 20), es posible visualizar los impresos asociados a la tarea as\u00ed \ncomo imprimirlos. \n \n4.3 Parametrizaci\u00f3n de Filtros y/o Columnas \n \nSe da la posibilidad de crear hasta tres filtros y columnas de acuerdo a requerimientos de la \nentidad. \nEn forma est\u00e1ndar las  columnas  y filtros, son los siguientes, s\u00ed bien est\u00e1n vinculadas su \nvisualizaci\u00f3n o no, en el INBOX, es independiente. \n \n\u25aa Columna 1 - Cliente \n\u25aa Columna 2 - Sucursal \n\u25aa Columna 3 - Ejecutivo de cuenta (seg\u00fan xwf700) \n\u25aa Filtro 1 - Cliente \n\u25aa Filtro 2 - Sucursal \n\u25aa Filtro 3 - Ejecutivo de cuenta (seg\u00fan xwf700) \nDicha parametrizaci\u00f3n se har\u00e1 en las tablas FST900 y  XWF005 (similar funcionamiento que \nla FST098).  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 122 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nA nivel de la FST900 se asociar\u00e1n los programas que resolver\u00e1n la informaci\u00f3n a mostrar en \nlas columnas /filtros definidos (programas resolutores).  \nA nivel de la XWF005, se define los c\u00f3digos 15 y 25, para filtros y columnas respectivamente, \nindicando cuales se quieren hacer visibles y cu\u00e1les no (atributo XWF05NUM1, en 0 ser\u00e1 no \nvisible, en 1 visible). \n \n  \n \n4.3.1 Filtros Parametrizables \n \n4.3.1.1 Programas que resuelven las Descripciones correspondientes a los valores de \nlos Filtros a aplicar. \n \nEj. Si el Filtro1 es un filtro por Cliente, el programa referido me devolver\u00eda el Nombre del \nCliente que se est\u00e1 usando para filtrar. \n \nFiltro1. Programa Standard : OXWFFtr1 \nFiltro2. Programa Standard : OXWFFtr2 \nFiltro3. Programa Standard : OXWFFtr3 \n \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 123 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nPar\u00e1metros (En todos los casos) Tipo \nIn : Empresa                          N(3) \nIn : Usuario actual                      C(10) \nIn : Valor del Filtro                  C(10) \nOut: Descripci\u00f3n Resuelta               C(30) \nOut: Msg. de Error a mostrar si no existiera el \nvalor u otro problema \nV(100) \n*** Todos los valores de tipo Character deben ser justificados a la izquierda, sin espacios al \ncomienzo. \n \nEs posible parametrizar un programa particular por Cliente (FST900) \ndonde :Prog. Standard = OXWFFtr1 y Prog. Particular = \"NuevoPrgF1\" \n        Prog. Standard = OXWFFtr2 y Prog. Particular = \"NuevoPrgF2\" \n        Prog. Standard = OXWFFtr3 y Prog. Particular = \"NuevoPrgF3\" \n \n4.3.1.2 Parametrizaci\u00f3n XWF005 \n \nParametrizaci\u00f3n de Filtros (XWF005) \n \n     XWF05Cod1  = Empresa \n     XWF05Cod2  = 15 \n     XWF05Corr1 = 0 //Filtro por Operaci\u00f3n \n     XWF05Num1  = X  //0= No Visible, 1= Visible \n XWF05Char1 = Descripci\u00f3n Filtro \n \n XWF05Cod1  = Empresa \n     XWF05Cod2  = 15 \n     XWF05Corr1 = 1 //Filtro1 \n     XWF05Num1  = X   //0=No Visible, 1=Visible \n XWF05Char1 =  Descripci\u00f3n Filtro \n \n XWF05Cod1  = Empresa ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 124 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n     XWF05Cod2  = 15 \n     XWF05Corr1 = 2 //Filtro2 \n     XWF05Num1  = X   //0=No Visible, 1=Visible \n XWF05Char1 =  Descripci\u00f3n Filtro \n \n XWF05Cod1  = Empresa \n     XWF05Cod2  = 15 \n     XWF05Corr1 = 3 //Filtro3 \n     XWF05Num1  = X  //0=No Visible, 1=Visible \n XWF05Char1 = Descripci\u00f3n Filtro \n \nEl resto de los campos de la tabla no tienen importancia. \n \n4.3.2 Columnas Parametrizables \n \n4.3.2.1 Programas que resuelven los valores de las Columnas parametrizables \n \n\u25aa Columna1. Programa Standard: OXWFCol1 \n\u25aa Columna2. Programa Standard: OXWFCol2 \n\u25aa Columna3. Programa Standard: OXWFCol3 \n \nPar\u00e1metros (En todos los casos) Tipo \nIn : Empresa                          N(3) \nIn : Usuario actual                      C(10) \nIn: Id. del Proceso de WorkFlow N(10) \nIn: Id. de  la Instancia de WorkFlow       N(10) \nIn: Id. del WorkItem en ejecuci\u00f3n          N(10) \nIn: Id. de Tarea de WorkFlow    N(10) \nInOut: Valor Resuelto de la Columna   V(100.30) \nIn: Empresa N(3) \nIn: Usuario Actual           C(10) ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 125 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nOut: Msg. de Error a mostrar si no existiera el \nvalor u otro problema  V(100) \n \n*** Todos los valores tipo Character deben ser justificados a la izquierda, sin espacios al \ncomienzo. \n \n4.3.2.2 Parametrizaci\u00f3n XWF005 \n \nParametrizacion de Columnas (XWF005) \n \n     XWF05Cod1  = Empresa \n     XWF05Cod2  = 25 \n     XWF05Corr1 = 0 //Columna Nro. Solicitud \n     XWF05Num1  = X   //0=No Visible, 1=Visible \n XWF05Char1 = Titulo de la Columna \n     XWF05Cod1  = Empresa \n     XWF05Cod2  = 25 \n     XWF05Corr1 = 1 //Columna1 \n     XWF05Num1  = X   //0=No Visible, 1=Visible \n XWF05Char1 = Titulo de la Columna \n \n     XWF05Cod1  = Empresa \n     XWF05Cod2  = 25 \n     XWF05Corr1 = 2 //Columna2 \n     XWF05Num1  = X   //0=No Visible, 1=Visible \n XWF05Char1 = Titulo de la Columna \n \n     XWF05Cod1  = Empresa \n     XWF05Cod2  = 25 \n     XWF05Corr1 = 3 //Columna3 \n     XWF05Num1  = X   //0=No Visible, 1=Visible \n XWF05Char1 = Titulo de la Columna \nEl resto de los campos de la tabla no tienen importancia. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 126 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n4.3.3 Formato del Valor Resuelto: \n \nEl valor resuelto debe cumplir con el siguiente formato para que pueda ser usado \ncorrectamente por el Filtro y para que muestre el valor deseado en la col umna \ncorrespondiente del Inbox. \nFormato de Valor Resuelto = Valor!#Descripci\u00f3n \nValor = Valor que ser\u00e1 usado int ernamente por el Inbox para aplicar  el filtro, si es un valor \nnum\u00e9rico, debe estar justificado a la izquierda, sin espacios en blanco al comienzo. \nDescripci\u00f3n = Literal que se refiere al valor anterior y que ser\u00e1 mostrado en la col umna \ncorrespondiente del Inbox. \nEj. de Valores Resueltos: \n    123!#Juan P\u00e9rez \n    XXX!#No existe Cliente \n    N/A!#N/A \n \nEs posible parametrizar un programa particular por Cliente (FST900) donde:  \nProg. Standard = OXWFCol1 y Prog. Particular = \"NuevoPrgC1\" \nProg. Standard = OXWFCol2 y Prog. Particular = \"NuevoPrgC2\" \nProg. Standard = OXWFCol3 y Prog. Particular = \"NuevoPrgC3\" \n \n4.3.4 Prompts Parametrizables \nLos prompts quedan asociados a cada uno de los filtros que est\u00e9n habilitados. \nPar\u00e1metros (En todos los casos) Tipo \nIn : Empresa                          N(3) \nIn : Usuario actual                      C(10) \nOut: Valor Seleccionado             C (10) \n*** Todos los valores de tipo Character deben ser justificados a la izquierda sin espacios al \ncomienzo. \nEs posible parametrizar un programa particular por Cliente (FST900) donde: ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 127 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n Prog. Standard = HXWFPop1 y Prog. Particular = \"NuevoPrgP1\" \n Prog. Standard = HXWFPop2 y Prog. Particular = \"NuevoPrgP2\" \n Prog. Standard = HXWFPop3 y Prog. Particular = \"NuevoPrgP3\" \n \nSe debe tener en cuenta que los Filtros, Columnas y Prompts con el mismo n\u00famero deben \nestar asociados al mismo concepto. \nO sea que si el Filtro1 se usa para establecer un Filtro por Cliente, entonces, la Columna1 \ndebe recuperar la informaci\u00f3n de un Cliente y el Pr ompt1 debe ser confeccionado para \nseleccionar un Cliente. \n \n \n \n5.0 Consultas de Instancias \n \nExisten dos modalidades de consulta desde las instancias de workflow, desde una se \npermiten tareas de administraci\u00f3n como ser la reasignaci\u00f3n de un \u00edtem a otro usuario, y otra \nes desde el panel \u2018 Consulta de Instancias \u2019 ( HXWF950), se puede consultar el estado de \ncualquier instancia ingresada. \n \nFigura 22 - Consulta de Instancias (HXWF950) \nEsta pantalla permite filtrar por relevant data y su valor, por usuario, por instancia  y por \nproceso. Se pueden ver los \u00edtems activos o tambi\u00e9n lo cerrados.  \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 128 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u2022 Datos.Ing .-Este bot\u00f3n llama a un formulario o a un asistente que permite mostrar \ninformaci\u00f3n guardada en RD en una instancia dada. \nEn caso de parametrizarse un Asistente, se deber\u00e1  indicar en las propiedades \navanzadas de la tarea dentro de Query Application, en el campo Query Web; se deber\u00e1 \nindicar una A y a continuaci\u00f3n el c\u00f3digo del asistente. \nEn caso de parametrizarse un formulario, se podr\u00e1 hacer de 2 formas, la primera es \nen las propiedades avanzadas de la tarea dentro de Query Application, en el campo \nQuery Web se coloca el c\u00f3digo del formulario  (sin ninguna letra). \nLa otra forma de paramet rizar el formulario de consulta es colocar la metadata \nCONS_INST_F y el c\u00f3digo del formulario a utilizar. \nPor default aparece como visible, para ocultarlo utilizar el panel HXWFV02T \ncolocando los siguientes valores: Par\u00e1metro=6, Correlativo=2, Valor=0 (Val or=1 \nvisible) \n\u2022 Asientos .-Muestra las Tx ejecutadas para la instancia \nPor default aparece como visible, para ocultarlo utilizar el panel HXWFV02T \ncolocando los siguientes valores: Par\u00e1metro=6, Correlativo=4, Valor=0 (Valor=1 \nvisible) \n\u2022 Plan de Pagos .-Muestra el plan de pagos generado para la instancia \nPor default aparece como visible, para ocultarlo utilizar el panel HXWFV02T \ncolocando los siguientes valores: Par\u00e1metro=6, Correlativo=5, Valor=0 (Valor=1 \nvisible) \n\u2022 Otros Reportes .- Aqu\u00ed se puede asociar un programa consulta, o un formulario para \nvisualizar datos, para ello se debe parametrizar en la gu\u00eda especial de procesos 31 \nde la siguiente forma: \nEn correlativo 3 va el c\u00f3digo de tarea para el que se quiere asignar un reporte, si se \nparametriza cero el reporte se ejecutar\u00e1 para todas las tareas del flujo. \nEn el correlativo dos va el c\u00f3digo de proceso para el que se quiere llamar al programa \nconsulta si es cero el programa estar\u00e1 disponible para todos los procesos. \nEl correlativo 1 da el orden en que se quieren mostrar los programas consultas. \nEn la descripci\u00f3n se debe parametrizar el programa consulta a ser llamado, \nseparando con un punto y coma se debe poner la descripci\u00f3n que se quiere mostrar \npara el mismo (ejemplo Hxxxx;Consulta Uno). Si en vez de ello se carga un valor en el \nvalor espec\u00edfico, se mostrar\u00e1 el formulario con ese c\u00f3digo. \nLos programas consulta son llamados con los siguientes par\u00e1metros: \n&WFprcid, &WFInsPrcId, &WFItemId, &FrmCod del mismo tipo que los atributos con \nmismo nombre. \nPor defau lt aparece como visible, para ocultarlo utilizar el panel HXWFV02T \ncolocando los siguientes valores: Par\u00e1metro=6, Correlativo=6, Valor=0 (Valor=1 \nvisible) \n\u2022 Documentos .-De tener parametrizado manejo de documentos en la instancia, \nmuestra los documentos que se hayan adjuntado \nPor default aparece como visible, para ocultarlo utilizar el panel HXWFV02T \ncolocando los siguientes valores: Par\u00e1metro=6, Correlativo=7, Valor=0 (Valor=1 \nvisible) \n\u2022 Autorizaciones .- De tener parametrizado el sistema de autorizaciones (so lamente \nflujos micro) muestra los ususarios autorizantes intervinientes \nPor default aparece como no visible, para hacerlo visible utilizar el panel HTRT198 \ncolocando los siguientes valores: Empresa=1, C\u00f3digo=20001, Correlativo 1=1,  \nCorrelativo 2=1, Correlativo 3=21, Descripci\u00f3n=S (Descripci\u00f3n=N lo oculta) ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 129 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n\u2022 Diagrama .- Permite visualizar el diagrama del flujo perteneciente a la instancia \nconsultada \nPor default aparece como visible , para ocultarlo  utilizar el panel HXWF005 con la \nsiguiente parametr\u00eda: C\u00f3digo=1, Gu\u00eda=1, Corr. 1=3, Corr. 2=0, Corr. 3=6 , \nVal.Num.1=1 (para visualizarlo Val.Num.1=0) \n\u2022 Impresos .- De tener parametrizado impresos, muestra los impresos habilitados para \nla instancia (ver manual Impresos Workflow (HXWFIMP)) \nPor default aparece como visible , para ocultarlo utilizar el panel HXWF005 con la \nsiguiente parametr\u00eda: C\u00f3digo=1, Gu\u00eda=1, Corr. 1=3, Corr. 2=0, Corr. 3=7, \nVal.Num.1=1 (para visualizarlo Val.Num.1=0) \nLos botones Diagrama e Im presos, puede tener parametr\u00eda de visualizaci\u00f3n particular por \nUsuario utilizando la siguiente parametr\u00eda \nPor default aparece como visible , para ocultarlo utilizar el panel HXWF005 con la \nsiguiente parametr\u00eda: C\u00f3digo=1, Gu\u00eda=1, Corr. 1=3, Corr. 2>0, Corr. 3=6, \nVal.Num.1=1 (para visualizarlo Val.Num.1=0) Diagrama \n \nPor default aparece como visible , para ocultarlo utilizar el panel HXWF005 con la \nsiguiente parametr\u00eda: C\u00f3digo=1, Gu\u00eda=1, Corr. 1=3, Corr. 2>0, Corr. 3=6, Val. Char 1 \n= Nombre de usuario,  Val.Num.1=1 (para visualizarlo Val.Num.1=0) Impresos \nLa parametr\u00eda de \u00e9stos 2 \u00faltimos botones se realiza en forma conjunta, o los 2 est\u00e1n \nparametrizados a nivel de usuario, o los dos est\u00e1n parametrizados a nivel general, no se \npuede parametrizar un bot\u00f3n con cada tipo. \n \n \nSe puede acceder al panel HXWF950 en modo administrador, para ello se debe acceder al \npanel HXWF954. Al acceder al panel en este nuevo modo, aparecen 6 nuevos botones los \ncuales no podr\u00e1n ser ocultados para este modo. \n\u2022 Reasignar Item Permite reasignar un workitem a otro usuario que posea el rol de la \ntarea y respete las restricciones en la instancia. \n\u2022 Modif.Datos Permite modificar informaci\u00f3n almacenada en RD mediante la \nutilizaci\u00f3n de un formulario en una tarea dada. Para ello se debe declarar la metadata \nde tarea MODIF_INST_F y en el valor indicar el c\u00f3digo de formulario utilizado. \n\u2022 Delegar Tiene similar funcionamiento al bot\u00f3n Reasignar Item, salvo que verifica si la \ntarea tiene parametrizado si permite la delegaci\u00f3n ( En GXPM Allow Delegation en \nAdvanced Properties de la tarea) \n\u2022 Abortar Permite abortar una Instancia \n\u2022 Re-Ejecutar Permite re ejecutar tareas batch que se encuentren activas \n\u00c9stos \u00faltimos botones podr\u00e1n ser ocultados por perfil, accediendo al panel HXWF950 en \nmodo seguridad, para ellos se deber\u00e1 acceder al panel HXWF957. \nVer manual \u2018Seguridad Workflow (HXWFSEG\u2019 por m\u00e1s informaci\u00f3n \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 130 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n6.0 Reportes y Mails con formato desde Plantilla HTML \n \nEn muchas ocasiones en la instalaci\u00f3n se requieren reportes particulares asociados a una \ntarea, particulares tanto en los datos que se quieren desplegar como en el format o en que \nse les quiere mostrar. \nEl lenguaje HTML fue especialmente desarrollado para dar formatos a reportes, existiendo \nen el mercado numerosas h erramientas que permiten su dise\u00f1o (Microsof FrontPage, \nEditPlus etc.), tambi\u00e9n se ha enriquecido el dise\u00f1o mediante herramientas como los temas \no \u201cCascading Style Sheets\u201d (CSS).  Es por ello que se desarroll\u00f3 una herramienta que permite \n\u201cparametrizar\u201d rep ortes sustituyendo en un html de definici\u00f3n los tags por valores \ndeterminados en ejecuci\u00f3n. \n \n6.1 Definici\u00f3n de plantillas HTML para reportes de workflow \nEn varias instancias es necesario ejecutar reportes tomando datos de la relevant data de \nGXflow y de los gr ids definidos especialmente. Se resolvi\u00f3 una rutina que lee un archivo en \nformato HTML y sustituye marcas determinadas por sus valores en ejecuci\u00f3n. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 131 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n6.1.1 D\u00f3nde establecer la plantilla \nSe debe dejar guardada en la aplicaci\u00f3n web en una carpeta denominada \u201cPlantillas HTML\u201d. \nEn el caso que se utilice un Tomcat como webserver la carpeta debe quedar en la ubicaci\u00f3n \nque se muestra. \n \n6.1.2 Parametrizaci\u00f3n de la planilla a utilizar \nPara asociar una planilla HTML a una tarea se debe crear una metadata para la tarea \ndenominada \u2018'INFORME_HTML'\u2019 y asociarle ah\u00ed el nombre de la plantilla a utilizar. \n \n6.1.3 Sustituci\u00f3n de tag \n \n6.1.3.1 Relevant data de GXFlow \nPara hacer referencia a un dato de la relevant data se debe poner revdata_XXXX donde XXXX \nes el nombre de la relevant data. \n \n6.1.3.2 Referencia a grids y sus columnas \nPara identificar el tag a sustituir para las l\u00edneas de un grid debe crearse un id para la fila con  \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 132 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n<tr id=\u201d Grid_xxxx_ocurrencia\u201d donde xxxx es el n\u00famero de grid a utilizar y ocurrencia es el \ncorrelativo de vez que aparece el grid en el HTML. Los atributos dentro del grid (es decir las \ncolumnas en la tabla, se buscan con #nombre del atributo#  y se sustituyen por su valor para \nla fila. \nEjemplo para el c\u00f3digo de grid 405, en su primera ocurrencia: \n<tr id=\"#Grid_405_1#\" height=\"17\" style=\"height:12.75pt\"> \n<td height=\"17\" style=\"height: 12.75pt; font -family: Verdana; sans -serif; text -align: center; \ncolor: windowtext; font -size: 10.0pt; font -weight: 400; font -style: normal; text -decoration: \nnone; vertical-align: bottom; white-space: nowrap; border-left: 1px solid windowtext; border -\nright: 1px solid windowtext; border -top: 1px solid; border -bottom: 1px solid windowtext; \npadding-left: 1px; padding -right: 1px; padding -top: 1px\" width=\"83\"><font \nsize=\"1\">#CLCLASE#</font></td> \n<td st yle=\"font-family: Verdana; sans -serif; text -align: center; color: windowtext; font -size: \n10.0pt; font -weight: 400; font -style: normal; text -decoration: none; vertical -align: bottom; \nwhite-space: nowrap; border-left: 1px solid; border-right: 1px solid windowtext; border-top: 1px \nsolid; border-bottom: 1px solid windowtext; padding-left: 1px; padding-right: 1px; padding-top: \n1px\" width=\"107\"><font size=\"1\">#CLCTA#</font></td> \n<td style=\"font -family: Verdana; sans -serif; text -align: center; color: windowtext; f ont-size: \n10.0pt; font -weight: 400; font -style: normal; text -decoration: none; vertical -align: bottom; \nwhite-space: nowrap; border-left: 1px solid; border-right: 1px solid windowtext; border-top: 1px \nsolid; border-bottom: 1px solid windowtext; padding-left: 1px; padding-right: 1px; padding-top: \n1px\" width=\"120\"><font size=\"1\">#CLPAISDOC#</font></td> \n<td style=\"font -family: Verdana; sans -serif; text -align: center; color: windowtext; font -size: \n10.0pt; font -weight: 400; font -style: normal; text-decoration: none; vertical -align: bottom; \nwhite-space: nowrap; border-left: 1px solid; border-right: 1px solid windowtext; border-top: 1px \nsolid; border-bottom: 1px solid windowtext; padding-left: 1px; padding-right: 1px; padding-top: \n1px\" width=\"122\"><font size=\"1\">#CLTIPODOC#</font></td> \n<td style=\"font -family: Verdana; sans -serif; text -align: center; color: windowtext; font -size: \n10.0pt; font -weight: 400; font -style: normal; text -decoration: none; vertical -align: bottom; \nwhite-space: nowrap; border-left: 1px solid; border-right: 1px solid windowtext; border-top: 1px \nsolid; border-bottom: 1px solid windowtext; padding-left: 1px; padding-right: 1px; padding-top: \n1px\" width=\"89\"><font size=\"1\">#CLNRODOC#</font></td> \n<td style=\"font -family: Verdana; sans -serif; text -align: center; color: windowtext; font -size: \n10.0pt; font -weight: 400; font -style: normal; text -decoration: none; vertical -align: bottom; \nwhite-space: nowrap; border-left: 1px solid; border-right: 1px solid windowtext; border-top: 1px \nsolid; border-bottom: 1px solid windowtext; padding-left: 1px; padding-right: 1px; padding-top: \n1px\"><font size=\"1\">#CLPRIMAP#</font></td> \n<td style=\"font-family: Verdana; sans -serif; color: windowtext; font -size: 10.0pt; font -weight: \n400; font-style: normal; text-decoration: none; text-align: general; vertical-align: bottom; white-\nspace: nowrap; border-left: 1px solid; border-right: 1px solid windowtext; border-top: 1px solid; \nborder-bottom: 1px solid windowtext; padding -left: 1px; padding -right: 1px; padding -top: \n1px\"><font size=\"1\">#CLSEGAP#</font></td> ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 133 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n<td style=\"font-family: Verdana; sans -serif; color: windowtext; font -size: 10.0pt; font -weight: \n400; font-style: normal; text-decoration: none; text-align: general; vertical-align: bottom; white-\nspace: nowrap; border-left: 1px solid; border-right: 1px solid windowtext; border-top: 1px solid; \nborder-bottom: 1px solid windowtext; padding -left: 1px; padding -right: 1px; padding -top: \n1px\"><font size=\"1\">#CLPRINOM#</font></td> \n<td style=\"font-family: Verdana; sans -serif; color: windowtext; font -size: 10.0pt; font -weight: \n400; font-style: normal; text-decoration: none; text-align: general; vertical-align: bottom; white-\nspace: nowrap; border-left: 1px solid; border-right: 1px solid windowtext; border-top: 1px solid; \nborder-bottom: 1px solid windowtext; padding -left: 1px; padding -right: 1px; padding -top: \n1px\"><font size=\"1\">#CLSEGNOM#</font></td> \n</tr> \n \n6.1.3.3 Llamados a programas especiales \nExisten casos en que se graban datos en formato xml o que hay que buscar los datos \naplicando una l\u00f3gica de negocios complicada. Para permitir utilizar la misma metodolog\u00eda de \nsustituci\u00f3n se pueden asociar a la tarea mediante las metadatas que comiencen con \nPRG_HTML diferentes programas que devuelvan un sdtReporte (Ver Manual de Reportes). En \neste caso se sustituir\u00e1 en el HTML con el mismo tratamiento que se hace para los reportes \ncon sentencia SQL y que se indica en el manual anteriormente citado. \nEn el caso en que en la metadata de tarea que comience con PRG_HTML se asocie un valor \nnum\u00e9rico diferente de cero, se ejecutar\u00e1 el reporte SQL con dicho c\u00f3digo y se sustituir\u00e1 en el \nHTML. \n \n6.2 Donde asociar los reportes \nLos reportes se pueden asociar mediante parametrizaci\u00f3n de la siguiente forma: \n \n\u25aa Programas de previsualizaci\u00f3n y/o consulta, se debe asociar el programa RXWFJ005. \n\u25aa Programas a asociar como reportes en la consulta de instancia, se deb e asociar el \nprograma RXWFJ008. \n  \n \n \n \n \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 134 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n7.0 Ajuste de Deadlines y Warnings \n \nGXFlow por defecto carga como fecha y hora para warning y deadlines, el resultado de sumar \na la fecha y hora actual los minutos a los que corresponden los d\u00edas, horas y minutos \ndefinidos mediante el process modeler. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 135 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEs decir, no considera que en el per\u00edodo entre la fecha y hora actual y el warning (o deadline) \nparametrizado puedan existir d\u00edas feriados. Tampoco considera el horario de trabajo, as\u00ed si \nun \u00edtem o instancia se crea a 5 minutos antes del horario de salida y tiene parametrizado un \ndeadline de 10 minutos, al inicio del d\u00eda siguiente se habr\u00e1 ejecutado la acci\u00f3n del deadline. \nPara cambiar las fechas y horas de deadline, se debe asociar el programa PXWFJ030 \n(AXWFJ030 en la versi\u00f3n cSharp), al evento OnNewInstance del proyecto o flujo (donde se \nquiera aplicar). Para ello se puede asociar desde el process modeler mediante la ventana de \neventos; \nSe puede tambi\u00e9n ingresar directamente el evento en la base de datos, para ello se debe \ninsertar un registro en la tabla de wfevnlisteners con los siguientes valores: \n \nWFEVNTYPE  = 1 \nWFEVNLISSCOPE= 1 \nWFEVNLISARG = \u2018\u2019 \nWFEVNLISAPP   = \u2018AXWFJ030\u2019 \n \n7.1 Parametrizaci\u00f3n de calendarios y horarios \n \nPara saltear los feriados en el c\u00f3mputo de los plazos se utilizan los calendarios Bantotal \nleyendo la tabla FST028. Para obtener el calendario  a utilizar se sigue el siguiente criterio; \nTanto para la modificaci\u00f3n de instancias como de workitems si no se parametriza un \ncalendario en especial a utilizar, se tomar\u00e1 el calendario de la sucursal parametrizada en \nBantotal como matriz (fs t017.pgsuc) la que se utiliza normalmente en proc esos batch de \ncadena de cierre. \nEs posible mediante parametrizaci\u00f3n asociar un calendario a una tarea parametrizando la \nmetadata de la tarea 'DW_CALCOD' con el c\u00f3digo de calendario a utilizar o parametrizar en \nla metadata \u2018DW_RESTSUC\u2019 en nombre de la restricci\u00f3n de la instancia donde se est\u00e1 \nguardando la sucursal, en ese caso tomar\u00e1 el calendario de la sucursal de la restricci\u00f3n. \nTambi\u00e9n se puede parametrizar en la metadata del proceso de gxflow (tabla wfprcattributes), \npara la metadata 'DW_CALCOD' con el c\u00f3digo de calendario a utilizar, se tomar\u00e1 este valor si \nno se resolvi\u00f3 a nivel de tarea. Aplica tanto para workitems como para instancias.  \n \nPor su parte para tener en cuenta los horarios se sigue el siguiente criterio; \nLos horarios se parametrizan en la gu\u00eda de procesos 1280, en el correlativo cero se \nparametriza el horario por defecto, luego con correlativo igual al c\u00f3digo de sucursal se puede \nasignar un horario diferente para una sucursal. A su vez se pueden crear horarios en los \nrestantes correlativos (superiores a 999) o forzar a un flujo o tarea a que utilice el horario de \nuna sucursal. Para ello se debe parametrizar en la metadata de tarea o del proceso ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 136 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n'DW_CORRHOR' el correlativo a utilizar en l a gu\u00eda de proceso. En caso de parametrizar \nrestricci\u00f3n por sucursal se va a utilizar el correlativo de la sucursal en la restricci\u00f3n. \nEn el caso de la instancia se puede parametrizar en la metadata del proceso \n'DW_USER_SUCUR' una \u2018S\u2019 ello indicar\u00e1 que se u tilizar\u00e1 el calendario y el horario de la \nsucursal del usuario que inici\u00f3 la instancia. \nEn todo caso se pueden parametrizar tanto para el proceso como para la tarea  los horarios \nen sus metadatas; \nMetadata 'DW_HORAINI' = hora de inicio (ej. \u201908:30\u2019,no se admite \u20188:30\u2019) \nMetadata \u2018DW_HORAFIN\u2019 = hora fin de jornada (ej. \u201918:45\u2019) \nEn el caso de parametrizar horario a este nivel, se va a utilizar dicho valor, independiente de \nlo parametrizado en la gu\u00eda de proceso. En el caso en que a nivel de tarea no se resuelva el \nhorario (porque no existe un horario en el correlativo cero de la gu\u00eda), se tomar\u00e1 el horario \nparametrizado en la metadata del proceso. \n \n7.1.1 Parametrizaci\u00f3n del horario en la gu\u00eda de procesos 1280 \nEl horario de inicio se debe parametrizar en el valor espec\u00edfico de la gu\u00eda de proceso teniendo \nen cuenta el siguiente formato; \nValor espec\u00edfico = hora * 100 + minutos, por ejemplo para las 8  y 30 se debe parametrizar \n830. \nPara el fin del horario se debe parametrizar el importe espec\u00edfico con el siguiente valor; \nImporte espec\u00edfico = hora * 100 + minutos, por ejemplo 1830 para las 18 y 30. \n \n \n \n \n \n \n \n \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 137 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n8.0 Ap\u00e9ndice A - M\u00e1scaras \n \nLas m\u00e1scaras se utilizan sobre los atributos para indicar el formato con que se visualizan los \natributos. \nExisten 4 clases de mascaras seg\u00fan el tipo de datos del atributo: \n\u25aa Fecha: La \u00fanica m\u00e1scara posible es: #DATE \n\u25aa Fecha y hora: La \u00fanica m\u00e1scara posible es: #DATETIME \n\u25aa Car\u00e1cter: Los formatos posibles son: \n\u2022 #C(L) : Indica que se mostrar\u00e1 una cadena de caracteres de largo L. \n\u2022 #C(L)! : Indica que se mostrar\u00e1 una cadena de caracteres de largo L y \nautom\u00e1ticamente se convertir\u00e1n todas las letras a may\u00fasculas. \n\u2022 #C(L)J : Indica que se mostrar\u00e1 una cadena de caracteres de lar go L y \nautom\u00e1ticamente se alinearan las letras a la derecha. \n\u2022 #C(L)J! : Indica que se mostrar\u00e1 una cadena de caracteres de largo L, \nautom\u00e1ticamente se alinearan las letras a la derecha y se convertir\u00e1n a may\u00fasculas. \n\u25aa Num\u00e9rico: En este caso la m\u00e1scara est\u00e1 compuesta por un signo y un valor.  \nLa primera parte constituye el signo, si no se especifica ning\u00fan formato para el signo se \nasumir\u00e1 que no se muestra el signo. Los formatos posibles para el signo son los siguientes: \n\u2022 [+|-] : Indica que el valor tiene signo.  Esto significa que aceptar\u00e1 que se ingrese un \nsigno negativo y positivo, sin embargo, si se ingresa un signo positivo no lo mostrar\u00e1. \n\u2022 +|-  : Indica que el valor tiene signo. En este caso, siempre se mostrar\u00e1 el signo del \nvalor al principio. \nLuego del signo, se debe indicar el formato num\u00e9rico, el cual est\u00e1 constituido de uno o m\u00e1s \nde los siguientes caracteres: \n\u2022 9 : Indica que en la posici\u00f3n donde se ponga habr\u00e1 un d\u00edgito num\u00e9rico. \n\u2022 Z : Indica que un digito num\u00e9rico, sin embargo, si el d\u00edgito es 0 y no es significativo \nse omitir\u00e1 (por ejemplo: si se ingresa el formato Z9 y se escribe el n\u00famero 01, luego \nde aplicar la m\u00e1scara el resultado ser\u00e1 1) \n\u2022 . (separador decimal) : Esto no indica que el separador utilizado sea. (punto), sino \nque si en su pa\u00eds se utiliza la , (coma) como separador decimal, al aplicar el formato \nse utilizar\u00e1 la coma, pero para indicar la m\u00e1scara siempre se debe usar el . (punto) \ncomo indicador del separador decimal \n\u2022 , (separador de miles) : En caso que en su pa\u00eds se utilice el . (punto) como separador \nde miles, al aplicar el formato se mostrar\u00e1 el . (punto) como separador de miles. Sin \nembargo, se debe utilizar la coma como separad or de miles en la definici\u00f3n de una \nm\u00e1scara. \n \nEjemplos: ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 138 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nValor: aa \nM\u00e1scara = #C (5)! \nLuego de aplicar la m\u00e1scara, el valor ser\u00e1: AA \n \nValor: 009.0 \nM\u00e1scara = [+|-] ZZ9.99 \nLuego de aplicar la m\u00e1scara, el valor ser\u00e1: 9.00 \n \nValor: -009.0 \nM\u00e1scara = [+|-] ZZ9.99 \nLuego de aplicar la m\u00e1scara, el valor ser\u00e1: -9.00 \n \nValor: 1000 \nM\u00e1scara = +|-ZZZ, ZZZ, ZZ9.99 \nLuego de aplicar la m\u00e1scara, el valor ser\u00e1: +1,000.00 \n \n \n \n \n \n \n \n \n \n \n \n \n \n ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 139 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n9.0 Ap\u00e9ndice B - Rangos \n \nLos rangos se utilizan para especificar rangos de valores. Son utilizados en los atributos para \nindicar el rango de valores que puede tomar el atributo, y en las conexiones condicionales \npara evaluar condiciones (se eval\u00faa si un atributo est\u00e1 dentro de un determinado rango). \nLos rangos se indican como un conjunto de intervalos de valores. El rango ser\u00e1 el conjunto \nde valores que resultan de la uni\u00f3n de todos los intervalos de valores. Por ejemplo, el rango: \n1 5:10; est\u00e1 compuesto por dos intervalos de valores, un primer intervalo con un \u00fanico valor \n(el 1) y otro intervalo que constituye los varios valores (desde el 5 al 10). El rango de valores \nen el rango indicado es: 1, 5, 6, 7, 8, 9, 10. \nLos rangos son utilizados para limitar un conjunto de valores. En caso que no se indique un \nintervalo de valores dentro un rango, se considerara que todos los valores est\u00e1n dentro del \nrango. \nPara especificar rangos de fechas, cadenas de caracteres o n\u00famer os se utiliza el mismo \nformato. \nLos distintos formatos para indicar un intervalo de valores son: \n\u25aa X indica que el intervalo solo contiene al valor x . \n\u25aa A:B indica que el intervalo contiene los valores desde A hasta B. \n\u25aa A:  indica que el intervalo contiene los valores mayores o iguales que A . \n\u25aa :A indica que el intervalo contiene los valores menores o iguales que A. \nTambi\u00e9n se puede incluir el valor EMPTY en los rangos de atributos de tipo car\u00e1cter para \nhacer referencia a la posibilidad de que el campo est\u00e9 vac\u00edo. Por ejemplo, para indicar que \nel campo puede contener el valor A, B o podr\u00eda quedar vaci\u00f3, el rango ser\u00eda: A B EMPTY \nSi se quiere indicar que un rango de valores no es v\u00e1lido se puede negar un rango de valores. \nEsto se hace poniendo el s\u00edmbolo ! (exclamaci\u00f3n) adelante del rango. Por ejemplo, el rango \n1:4 !2 ; indica que los valores validos son 1, 3 y 4. Siempre es posible evitar el uso de estas \nreglas, por ejemplo, en el ejemplo anterior se podr\u00eda indicar el rango 1 3:4. Sin embargo, \nalgunas veces omitir estas reglas puede significar tener que escribir muchos intervalos de \nvalores y no queda claro que significa el rango. Por lo tanto, s\u00f3lo se recomienda que se usen \nestas reglas cuando se quiere dar \u00e9nfasis que un valor no es posible frente a un rango de \nvalores. Es importante tener en cuenta que si el usuario no ingresa un valor que est\u00e1 dentro \nde un rango v\u00e1lido, se le mostrar\u00e1 un mensaje que le dir\u00e1 cu\u00e1les son los res v\u00e1lidos y luego \nle dir\u00e1 las excepciones (o sea, los valores que se indicaron con reglas negativas). \nEn caso de haber reglas positivas y negativas sobre los mismos valores tienen preferencia \nlas negativas. Por ejemplo en el rango 20 10 !10 el \u00fanico valor v\u00e1lido es 10. Se recomienda \nampliamente tener precauci\u00f3n de evitar este tipo de reglas. Ya que, esto producir\u00e1 que si el \nusuario ingresa un valor no v\u00e1lido, se le mostrara un mensaje al usuario que dir\u00e1 que los \nvalores v\u00e1lidos son10 y 20 pero no puede ingresar el valor 10, lo que no tiene mucha \ncoherencia. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 140 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nExisten algunas consideraciones importantes que deben ser tenidas en cuenta a la hora de \nescribir intervalos de valores: \n\u25aa En caso que se especifiquen n\u00fameros en un intervalo de valores, no se puede usar el \nseparador de miles. Y el separador decimal debe ser el . (punto) sin importar cu\u00e1l es el \nseparador decimal que se utiliza en su pa\u00eds. \n\u25aa Un valor dentro de un rango puede ser expresado entre comillas simples. Esto es  \u00fatil \ncuando se quieren expresar rangos de valores que contienen espacios, ya que, por \nejemplo, si se ingresa el rango: S\u00f3lo esto est\u00e1 permitido; se interpretar\u00e1 que los valores \nv\u00e1lidos son: S\u00f3lo, esto, est\u00e1 y permitido. Para expresar que el \u00fanico valor v\u00e1 lido es la \ncadena completa \u201cS\u00f3lo esto est\u00e1 permitido\u201d, se debe expresar el rango de la siguiente \nforma: \u2018S\u00f3lo esto est\u00e1 permitido\u2019. \n\u25aa Para los atributos de tipo fecha, las fechas deben ser expresadas en el formato \ndd/mm/aa. En caso que en su pa\u00eds se utilice el formato mm/dd/aa, el formato v\u00e1lido \npara las fechas ser\u00e1 mm/dd/aa. \n\u25aa Para los atributos de tipo fecha y hora, el formato es dd/mm/aa hh:mm:ss. Donde la \nhora, minutos o segundos puede ser ignorada. En caso que en su pa\u00eds se utilice el \nformato mm/dd/aa, el formato v\u00e1lido para las fechas ser\u00e1 mm/dd/aa. \nEjemplos: \nRango: '10/02/01 08:00' '11/02/02 16:00' \nRango de valores v\u00e1lidos: (en caso que el atributo sea fecha y hora) los valores dentro del \nrango son las fecha y hora 10/02/01 08:00 y 11/02/02 16:00; (en caso que el atributo sea \nde tipo car\u00e1cter) el rango estar\u00e1 compuesto por las dos cadenas de caract eres entre las \ncomillas simples \nRango: 1 2 3 6:8 \nRango de valores v\u00e1lidos: (en caso que el atributo sea num\u00e9rico) los valores dentro del rango \nson 1, 2, 3, 6, 7, 8; (en caso que el atributo sea de tipo car\u00e1cter) el rango estar\u00e1 comprendido \npor las cadenas de caracteres 1 2 3 y todas las que est\u00e9n entre 6 y 8 (tener en cuenta que \nla cadena 66 est\u00e1 comprendida entre 6 y 8, ya que se compara letra a letra) \nRango: !EMPTY \nRango de valores v\u00e1lidos: Cualquier valor es v\u00e1lido, salvo la cadena de caracteres vac\u00eda. Si \nse ingresa este rango en un campo, se fuerza al usuario a que ingrese alg\u00fan valor. El campo \nno se puede dejar vac\u00edo. \nRango: \u2018EMPTY\u2019 \nRango de valores v\u00e1lidos: Al estar el valor EMPTY entre comillas se toma como la cadena de \ncaracteres EMPTY y no como un valor especial, por lo tanto, en este caso, el \u00fanico valor que \nestar\u00eda dentro del rango ser\u00eda la cadena de caracteres EMPTY. \nRango: \u2018:1000 !1000\u2019 \nRango de valores v\u00e1lidos: Cualquier valor menor que 1000. ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 141 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n10.0 Parametrizaci\u00f3n para grabar Fecha Valor = Fecha \nValor Contable  \n \n10.1 Tabla de Mapeo  \nSe accede al panel HMSG001 , se selecciona el C\u00f3digo de Estructura de Mensaje y se \npresiona el bot\u00f3n Tablas/Programas, para definir una tabla de mapeo. \n \n \nLuego se presiona el bot\u00f3n Agregar. \n \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 142 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nEstableciendo un c\u00f3digo de Tablas de Mapeo de Datos, un nombre (AXWFEVL1) e indicando \nel tipo Programa. \n \nLuego se selecciona la tabla y se presiona el bot\u00f3n Atributos. \n \n \n \n \n \n \n \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 143 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nDefiniendo los atributos de la siguiente forma, la columna Nombre del atributo corresponde \na los nombres de las RD, respetar los formatos definidos, y si el atributo es de entrada o \nsalida. \n \n \nC\u00f3digo Att Nombre Att Nombre Att Tipo Entrada/Salida \nSIMCAP Capital Solicitado PRCCAPAX N E \nSIMFECHVAL Fecha Valor PRFVAL D E \nSIMPLZO Plazo en D\u00edas PRPZOAX N E \nSIMVALCUO Valor Cuota PRCTAAX N E \nSIMVALPRIMCUO Valor Primera Cuota PR1ACTA N S \nSIMVTOOP Vencimiento Operaci\u00f3n PRVTOFIN F E \nSIMVTOPC Vencimiento Primera Cuota PRVTUPCU F E \nTTASA Tipo tasa PRTIPTASA N E \n \n \n10.2 Metadata \nSe accede al panel HXWFD001, se selecciona el proceso y se presiona el bot\u00f3n Tareas. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 144 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nSe selecciona la tarea Desembolso y se presiona el bot\u00f3n Metadata. \n \n \nLuego se presiona el bot\u00f3n Agregar, para declarar una nueva metadata. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 145 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \n \nEn el campo Nombre de Atributo se debe colocar XWFEVL1_MAPEO y en el campo Valor el \nc\u00f3digo de mapeo declarado en el paso anterior. \n \n \n \n10.3 Eventos \nSe accede al panel HXWF923 para declarar el programa de evento PXWFEVL1, presionando \nel bot\u00f3n Agregar. \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 146 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n \nSe completa: \n- Tipo de evento, se indica el c\u00f3digo 2 \n- Alcance, Process Definintion \n- Proceso, el que corresponda, en este caso es el 4 \n- Programa, PXWFEVL1 \n \n \n \n \n \n \n \n \n \n \n \n \n", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 147 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \n11.0 Tablas \n \n11.1 Tablas de Par\u00e1metros \n \nTabla Descripci\u00f3n \nCACTYP Tipos de Documentos \nCANUM Documentos \nCATYPES Tipos de Documentos. \nCAERROR Errores \nCAESTATE Estados \n  \nPTE001 Programas PTE Workflow \nWFATTRIBUTES Atributos del Proceso Workflow \nWFATTMAP  Atributos de Mapeo \nWFATTSVAL Valores de atributos (peque\u00f1os) \nWFAPIACCCONTROL Worflow - Control de acceso de la API \nWFCAL Calendario \nWFCAL1  Calendario \nWFCLIAPP Worflow - Aplicaciones \nWFCNFROLES  Roles en conflicto \nWFCNFTASKS  Tareas en conflicto \n  \nWFDATATYPESACCCTRL Worflow - Control de acceso de tipos de datos ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 148 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nWFDOCACTIONS Worflow - Acciones sobre documentos \nWFDOCROL  Acciones de roles sobre documentos \nWFDOCRO1  Acciones de roles sobre documentos \n  \nWFDOCTS1  Documentos del Proceso/Tarea Worflow \nWFDOCTSKROL Documentos del Proceso/Tarea/Rol Worflow  \nWFERROR Worflow \nWFERRO1  Descripci\u00f3n de errores \n  \nWFEVNLISTENERS EventListeners Worflow \nWFEVNASS Asignaci\u00f3n de Eventos \n  \nWFEVNTYPES Worflow EventListeners \nWFLANGUAGE Worflow Idiomas \nWFNET Worflow Condicionales \nWFENGINE Reconstruir la worklist \n  \nWFNET1 Worflow Condicionales \nWFNET2 Worflow Condicionales \nWFNEWL1 Worflow \nWFNEWLABELS Worflow \nWFNUMERATOR Worflow Numeradores \nWFPRCATTRIBUTES Worflow Atributos por Proceso ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 149 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nWFPREF Worflow Prefernces \nWFPREF1 Worflow Prefernces \nWFPREFGRP Worflow Prefernces \nWFPROCESS Worflow Procesos \nWFPROJECT Worflow Proyectos \nWFPROJPROCESS Worflow Proyecto-Proceso \nWFRESTRICTIONS Worflow Restricciones \nWFRH Worflow Roles \nWFRH1 Worflow Roles \nWFROLES Worflow Roles \nWFSTATE1 Worflow estados por idioma \nWFSTATES Worflow estados \nWFTASK Worflow Tareas \nWFTASK1 Worflow Proceso/Tarea/Rol \nWFTASK2 Worflow Proceso/Tarea/Rol \nWFTASK3 Worflow Proceso/Tarea/Rol \nWFTASKATTRIBUTES Worflow Atributos por Tarea \nXWF002 Worflow Proceso-Estructura \nXWF005 Worflow Gu\u00eda de Proceso WF \nXWF060 Worflow Documentos \nXWF061 Worflow Documentos \nXWF062 Worflow Documentos \nXWF065 vinculaci\u00f3n ID documentos BT con tipos Documentos workflow ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 150 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nXWF750 Metadata Convenio (Nivel 3 preseteo activo)  \nXWF751 Metadata Convenio (Nivel 3 preseteo activo)  \nXWF752 Metadata Convenio (Nivel 3 preseteo activo)  \nXWFV02 Par\u00e1metros Generales Workflow (requiere revisi\u00f3n del cliente) \n \n \n11.2 Tablas de Datos \n \nTabla Descripci\u00f3n \nCAAPP Workflow \nCAAUDCON Workflow \nCACON Documentos \nCACONBLOB Documentos \nCACVTFLEEXT Workflow \nWFASSEVN   \nWFATTBVALUES Datos de la instancia WF - Big Values \nWFATTRIB   \nWFATTSVALUES Datos de la instancia WF- Small Values \nWFATTVAL   \nWFCONDITIONALS Hist\u00f3rico Condicionales Workitem WF \nWFDEBUG Worflow Debug  \nWFDOC       Documentos del proceso Worflow \n  \nWFDOCINST  Documentos Instances Workflow ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 151 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nWFENGINE  Reconstruir la worklist \nWFEVENTS Workflow Events \nWFEVNACTIONS Workflow Actions Events \nWFEVNDATA  Datos de eventos \nWFEVNPTYS Worflow EventListeners \nWFEVNSTATE Worflow EventListeners \nWFFAILAUT Worflow \nWFINSTASK Worflow \nWFINSTPRC Workflow - Instancias \nWFITEMDOC Workflow \nWFLOG  Log de usuarios \nWFOPTIONALS   \nWFPICOMMENTS Worflow Comentarios por Instancia \nWFPRCAUX   \nWFPRCCOMMENTS   \nWFPRCINS Worflow Instancias \nWFPRCRST   \nWFPROCES   \nWFPROCESS_RES Worflow \nWFPROJOBJECTS   \nWFRESTR1 Worflow Restricciones \nWFRESTRI   \nWFROLES1 Worflow Roles - Usuario \nWFROLOB1   ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 152 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nWFROLOBJ   \nWFSEAUDI   \nWFSESSIO   \nWFSESSIONS Worflow Sesiones \nWFTPOOBJ   \nWFTSKINS   \nWFURRST   \nWFUSERRO   \nWFUSERS Worflow Usuarios \nWFUSERS1 Worflow Usuarios  \nWFUSRPREF Worflow Usuarios  \nWFUSRVFLD   \nWFUSRVISPREFGRP Worflow Usuarios  \nWFWICOMM   \nWFWICOMMENTS Worflow Comentarios por workitem \nWFWORKLIST Worflow Worklist \nWFWRKITE   \nWFWRKITEMS Workitems Workflow \nXWF050 Workflow \nXWF063 Worflow \nXWF070 Worflow Contabilidad por Workitem \nXWF354 Worflow Operaci\u00f3n instancia \nXWF512 Worflow \nXWF700 Worflow Operaci\u00f3n instancia ", " \n \n   \n \nMDI-10103-GL-V2R3.3 - Workflow, Jun.-23 P\u00e1gina 153 de 153 \nCopyright \u00a9 Todos los derechos reservados a Bantotal  \n                                                                       \n \n \n \nXWF701 Worflow Persona instancia \nXWFD01 Documento Instancia Worflow  \nXWFD02 Documento Instancia Worflow  \nXWFD05 Documento Instancia Worflow  \nXWFD06 Documento Instancia Worflow  \nXWFD07 Documento Instancia Worflow  \nXWFD08 Documento Instancia Worflow  \nXWFH01 Hist\u00f3rico de Relevant Data \nXWFH02 historico de atributos por wrk \nXWFV01 Worflow Datos Instancia Grilla \nXWFV04 Worflow \n "]